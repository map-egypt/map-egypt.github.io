!function e(t,a,n){function r(i,l){if(!a[i]){if(!t[i]){var o="function"==typeof require&&require;if(!l&&o)return o(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=a[i]={exports:{}};t[i][0].call(u.exports,function(e){var a=t[i][1][e];return r(a||e)},u,u.exports,e,t,a,n)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return{type:S}}function s(e){return{type:D,data:e}}function i(e){return{type:O,data:e}}function l(e){return{type:M,data:e}}function o(e){return{type:I,data:e}}function c(e){return{type:R,data:e}}function u(e){return{type:L,data:e}}function m(e){return{type:F,data:e}}function p(e){return function(t){P.default.registerDispatch(function(a){t(s(a)),e&&"function"==typeof e&&e()})}}function d(){return function(e){y("projects",function(t){return e(i(t))})}}function f(e){if(!e)throw new Error("Project endpoint requires project id");return function(t){y("projects/"+e,function(e){return t(l(e))})}}function h(){return function(e){y("indicators",function(t){return e(o(t))})}}function g(e){if(!e)throw new Error("Indicator endpoint requires indicator id");return function(t){y("indicators/"+e,function(e){return t(c(e))})}}function b(e){var t=e===C.GOVERNORATE?G:z;return function(a){(0,_.default)(k.default.resolve(x.baseUrl,t),function(t){try{var n=N.feature(t,t.objects[e])}catch(e){return void console.log("Topojson.feature() failed")}return a(u({features:n,name:e}))})}}function y(e,t){var a={url:k.default.resolve(x.api,e),method:"GET",type:"json",contentType:"application/json",success:t,error:function(e){throw new Error(e)}},n=j.default.get("id_token");return n&&(a.headers={Authorization:n}),(0,_.default)(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.LANGUAGE=a.GEOGRAPHY=a.INDICATOR=a.INDICATORS=a.PROJECT=a.PROJECTS=a.AUTHENTICATED=a.ACTION=void 0,a.hideModalAbout=r,a.updateAuth=s,a.updateProjects=i,a.updateProject=l,a.updateIndicators=o,a.updateIndicator=c,a.updateGeography=u,a.updateLang=m,a.getAuthStatus=p,a.getProjects=d,a.getProject=f,a.getIndicators=h,a.getIndicator=g,a.getGeography=b;var v=e("reqwest"),_=n(v),E=e("store"),j=n(E),A=e("topojson-client"),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(A),w=e("url"),k=n(w),x=e("../config"),T=e("../utils/auth"),P=n(T),C=e("../utils/map-utils"),S=a.ACTION="ACTION",D=a.AUTHENTICATED="AUTHENTICATED",O=a.PROJECTS="PROJECTS",M=a.PROJECT="PROJECT",I=a.INDICATORS="INDICATORS",R=a.INDICATOR="INDICATOR",L=a.GEOGRAPHY="GEOGRAPHY",F=a.LANGUAGE="LANGUAGE",G="assets/data/topojson/a2-withluxor.json",z="assets/data/topojson/districts.json"},{"../config":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config.js","../utils/auth":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/auth.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js",reqwest:"reqwest",store:"store","topojson-client":"topojson-client",url:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/url/url.js"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/auto-suggest.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),s=n(r),i=e("react-autosuggest"),l=n(i),o=s.default.createClass({displayName:"AutoSuggest",propTypes:{suggestions:s.default.PropTypes.array,getDisplayName:s.default.PropTypes.func,placeholder:s.default.PropTypes.string,onSelect:s.default.PropTypes.func},getInitialState:function(){return{value:"",active:[]}},getSuggestions:function(e){var t=e.value,a=t.trim().toLowerCase(),n=a.length;if(n<=1)return[];var r=this.props.getDisplayName;return this.props.suggestions.filter(function(e){return r(e).toLowerCase().slice(0,n)===a})},onSuggestionsFetch:function(e){this.setState({active:this.getSuggestions(e)})},onSuggestionsClear:function(){this.setState({active:[]})},onChange:function(e,t){this.setState({value:t.newValue})},renderSuggestion:function(e){return s.default.createElement("div",null,this.props.getDisplayName(e))},render:function(){var e=this.state,t=e.active,a=e.value,n=this.props.placeholder,r={placeholder:n,value:a,onChange:this.onChange};return s.default.createElement("div",null,s.default.createElement(l.default,{suggestions:t,onSuggestionsFetchRequested:this.onSuggestionsFetch,onSuggestionsClearRequested:this.onSuggestionsClear,getSuggestionValue:this.props.getDisplayName,renderSuggestion:this.renderSuggestion,inputProps:r,onSuggestionSelected:this.props.onSelect}))}});t.exports=o},{react:"react","react-autosuggest":"react-autosuggest"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/axis.js":[function(e,t,a){"use strict";var n=e("react"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("react-router"),i=function(e){return e},l=r.default.createClass({displayName:"Axis",propTypes:{scale:r.default.PropTypes.func,labels:r.default.PropTypes.array,orientation:r.default.PropTypes.string,height:r.default.PropTypes.number,width:r.default.PropTypes.number,margin:r.default.PropTypes.object,format:r.default.PropTypes.func,links:r.default.PropTypes.array},render:function(){var e=this,t=this.props,a=t.scale,n=t.labels,l=t.orientation,o=t.height,c=t.width,u=t.margin,m=void 0,p=void 0,d=void 0,f=void 0;switch(l){case"left":m="translate("+u.left+","+u.top+")",p="0.5em",d=-5,f="end";break;case"right":m="translate("+(u.left+c)+","+u.top+")",p="0.5em",d=5,f="start";break;case"bottom":default:m="translate("+u.left+","+(o+u.top)+")",p="1em",d=0,f="middle"}var h=this.props.format||i,g=this.props.links&&Array.isArray(this.props.links)&&this.props.links.length,b="left"===l||"right"===l;return r.default.createElement("g",{className:"axis axis__"+l,transform:m},n.map(function(t,n){var i=void 0,l=void 0;b?(i=0,l=a(t)+("function"==typeof a.bandwidth?a.bandwidth()/1.5:0)):(i=a(t)+("function"==typeof a.bandwidth?a.bandwidth()/2:0),l=5);var o=r.default.createElement("text",{key:t+n,className:"chart__axis-ticks",x:i,y:l,dy:p,dx:d,textAnchor:f},h(t));return g?r.default.createElement(s.Link,{to:e.props.links[n],key:t},o):o}),r.default.createElement("line",{className:"chart__axis--line",x1:"0",y1:"0",x2:b?0:c,y2:b?o:0}))}});t.exports=l},{react:"react","react-router":"react-router"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),s=n(r),i=e("d3-scale"),l=e("lodash"),o=e("./axis"),c=n(o),u=e("../../utils/governorates"),m=s.default.createClass({displayName:"HorizontalBarChart",propTypes:{data:s.default.PropTypes.array,margin:s.default.PropTypes.object,yTitle:s.default.PropTypes.string,xFormat:s.default.PropTypes.func,yFormat:s.default.PropTypes.func,activeProject:s.default.PropTypes.string,lang:s.default.PropTypes.string},getInitialState:function(){return{width:0,tooltipX:0,tooltipY:0,tooltipTitle:null,tooltipBody:null,tooltip:null}},onWindowResize:function(){var e=this.refs.chartContainer.getBoundingClientRect();this.setState({width:e.width,height:e.height})},mouseover:function(e,t,a){this.setState({tooltip:!0,tooltipX:e,tooltipY:t,tooltipTitle:a.name,tooltipBody:this.props.xFormat?this.props.xFormat(a.value):a.value})},mouseout:function(){this.setState({tooltip:!1})},componentDidMount:function(){this.onWindowResize(),this.onWindowResize=(0,l.debounce)(this.onWindowResize,200),this.mouseover=(0,l.throttle)(this.mouseover,5),window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){window.removeEventListener("resize",this.onWindowResize)},render:function(){var e=this,t=this.state,a=t.width,n=t.height,r=this.props,o=r.lang,m=r.data,p=r.yTitle,d="ar"===o,f=Object.assign({},this.props.margin);d&&(f=Object.assign(f,{left:f.right,right:f.left}));var h=a-f.left-f.right,g=n-f.top-f.bottom;if(h<=0)return s.default.createElement("div",{className:"chart-container",ref:"chartContainer"});var b=d?"nameAr":"name";m.map(function(e,t){var a=e.name;a&&7===a.length&&"EGY"===a.substring(0,3)&&(a=(0,u.byEgy)(a)[b]),a&&6===a.length&&"GY"===a.substring(0,2)&&(a=(0,u.byEgy)("E"+a)[b]),m[t].name=a});var y=m.map(function(e){return e.name}),v=m.map(function(e){return e.value}),_=m.map(function(e){return e.link}).filter(Boolean),E=(0,i.scaleBand)().paddingInner(.6).paddingOuter(.2),j=[0,h],A=(0,i.scaleLinear)().range([0,h]).domain([0,(0,l.max)(v)]),N=d?(0,i.scaleLinear)().range([h,0]).domain([0,(0,l.max)(v)]):A,w=A.ticks(3),k=E.rangeRound([g,0]).domain(y),x=y,T=k.bandwidth();return s.default.createElement("div",{className:"chart-container",ref:"chartContainer"},s.default.createElement("svg",{className:"chart",width:a,height:n,ref:"svg"},s.default.createElement(c.default,{scale:N,labels:w,orientation:"bottom",height:g,width:h,margin:f,format:this.props.xFormat}),s.default.createElement(c.default,{scale:k,labels:x,orientation:d?"right":"left",height:g,width:h,margin:f,format:this.props.yFormat,links:_}),s.default.createElement("g",{transform:"translate("+f.left+", "+f.top+")"},m.map(function(t,a){var n=t.name===e.props.activeProject?" active":"",r=A(t.value),i=d?j[1]-r:0;return s.default.createElement("rect",{key:t.name+a,className:"chart__bar"+n,y:k(t.name)+T/3,x:i,height:T,width:A(t.value),onMouseMove:function(a){return e.mouseover(a.clientX,a.clientY,t)},onMouseOut:e.mouseout})})),s.default.createElement("text",{x:-n/2+24,y:4,dy:"1em",transform:"rotate(-90)",textAnchor:"middle",className:"chart__axis-title"},p)),s.default.createElement("div",{className:"tooltip",style:{position:"fixed",display:this.state.tooltip?"block":"none",left:this.state.tooltipX,top:this.state.tooltipY}},s.default.createElement("div",{className:"tooltip__inner"},s.default.createElement("h4",{className:"tooltip__title"},this.state.tooltipTitle),s.default.createElement("p",{className:"tooltip__body"},this.state.tooltipBody))))}});t.exports=m},{"../../utils/governorates":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js","./axis":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/axis.js","d3-scale":"d3-scale",lodash:"lodash",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/pie.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),s=n(r),i=e("d3"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(i),o=e("lodash"),c=e("../../utils/slugify"),u=n(c),m=s.default.createClass({displayName:"PieChart",propTypes:{data:s.default.PropTypes.array},getInitialState:function(){return{width:0,height:0,tooltipX:0,tooltipY:0,tooltipTitle:null,tooltipBody:null,tooltip:null}},onWindowResize:function(){var e=this.refs.chartContainer.getBoundingClientRect();this.setState({width:e.width,height:e.height})},mouseover:function(e,t,a,n){this.setState({tooltip:!0,tooltipX:e,tooltipY:t,tooltipTitle:a,tooltipBody:n})},mouseout:function(){this.setState({tooltip:!1})},componentDidMount:function(){this.onWindowResize(),this.onWindowResize=(0,o.debounce)(this.onWindowResize,200),this.mouseover=(0,o.throttle)(this.mouseover,15),window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){window.removeEventListener("resize",this.onWindowResize)},render:function(){var e=this,t=this.state,a=t.width,n=t.height,r=this.props.data,i=Math.min(a,n)/2;if(i<=0)return s.default.createElement("div",{className:"chart-container",ref:"chartContainer"});var o=l.arc().outerRadius(i-10).innerRadius(100),c=l.pie().value(function(e){return e.value})(this.props.data),m=r.map(function(e){return e.name});return s.default.createElement("div",{className:"chart-container",ref:"chartContainer"},s.default.createElement("svg",{className:"chart",width:a,height:n,ref:"svg"},s.default.createElement("g",{className:"arc",transform:"translate("+a/2+", "+n/2+")"},c.map(function(t,a){return s.default.createElement("path",{key:a,d:o(t),className:"pie__slice__"+(0,u.default)(m[a]),onMouseMove:function(n){return e.mouseover(n.clientX,n.clientY,m[a],t.value)},onMouseOut:e.mouseout})}))),s.default.createElement("div",{className:"tooltip",style:{position:"fixed",display:this.state.tooltip?"block":"none",left:this.state.tooltipX,top:this.state.tooltipY}},s.default.createElement("div",{className:"tooltip__inner"},s.default.createElement("h4",{className:"tooltip__title"},this.state.tooltipTitle),s.default.createElement("p",{className:"tooltip__body"},this.state.tooltipBody))))}});t.exports=m},{"../../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js",d3:"d3",lodash:"lodash",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js":[function(e,t,a){"use strict";var n=e("react"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("object-path"),i=e("global"),l=e("../utils/serialize-csv"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(l),c=e("../utils/districts"),u=e("../utils/governorates"),m=r.default.createClass({displayName:"CSVBtn",propTypes:{lang:r.default.PropTypes.string,title:r.default.PropTypes.string,relatedProjects:r.default.PropTypes.array,projects:r.default.PropTypes.array,project:r.default.PropTypes.object,chartData:r.default.PropTypes.array,disbursement:r.default.PropTypes.array,summary:r.default.PropTypes.object,ministryActiveProjects:r.default.PropTypes.array,kmiData:r.default.PropTypes.array},serialize:function(){var e=this,t="data:text/csv;charset=utf-8,"+(this.props.title||"");if(this.props.project){var a=o.project(this.props.project,this.props.lang);t+="\n\nProject Data\n\n",t=t.concat(o.serialize(a));var n=this.props.project.location.map(function(t){var a=(0,u.byId)(t.district.governorate);a=a?"en"===e.props.lang?a.name:a.nameAr:"N/A";var n=(0,c.byId)(t.district.district);return n=n?"en"===e.props.lang?n.name:n.nameAr:"N/A",{governorate:a,district:n}});n=o.locations(n),t+="\n\nLocations\n\n",t=t.concat(o.serialize(n))}if(this.props.summary&&(t+="\n\n"+this.props.summary.title+"\n\n",t=t.concat(o.serialize(o.summary(this.props.summary.data)))),this.props.ministryActiveProjects){var r=o.ministryActiveProjects(this.props.ministryActiveProjects);t+="\n\nActive Project Status\n\n",t=t.concat(o.serialize(r))}if(this.props.chartData&&this.props.chartData.length&&this.props.chartData.forEach(function(e){t+="\n\n"+e.title+"\n\n",t+=o.serialize(o.chartData(e.data))}),this.props.disbursement&&this.props.disbursement.length){var l=o.disbursement(this.props.disbursement);t+="\n\nDisbursement vs. Reach\n\n",t=t.concat(o.serialize(l))}if(this.props.kmiData&&Array.isArray(this.props.kmiData)&&this.props.kmiData.length){var m=o.kmiData((0,s.get)(this.props,"kmiData",[]),this.props.lang);t+="\n\nMonitoring Indicators\n\n",t=t.concat(o.serialize(m))}if(this.props.relatedProjects&&this.props.relatedProjects.length){var p=o.relatedProjects((0,s.get)(this.props,"relatedProjects",[]),this.props.lang);t+="\n\nRelated Projects\n\n",t=t.concat(o.serialize(p))}if(this.props.projects&&this.props.projects.length){var d=o.relatedProjects((0,s.get)(this.props,"projects",[]),this.props.lang);t+="\n\nProjects\n\n",t=t.concat(o.serialize(d))}if(i.window.encodeURI&&"function"==typeof i.window.encodeURI){var f=document.createElement("a");document.body.appendChild(f),f.download="download.csv",f.href=i.window.encodeURI(t),f.target="_blank",f.click(),document.body.removeChild(f)}},render:function(){var e=(0,s.get)(i.window.t,[this.props.lang,"general_buttons","csv"]);return r.default.createElement("button",{className:"button button--medium button--primary button--download",onClick:this.serialize},e)}});t.exports=m},{"../utils/districts":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/districts.js","../utils/governorates":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js","../utils/serialize-csv":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/serialize-csv.js",global:"global","object-path":"object-path",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,u.default)(e);return[[t[1],t[0]],[t[3],t[2]]]}var s=e("react"),i=n(s),l=e("global/window"),o=n(l),c=e("@turf/bbox"),u=n(c),m=e("d3-scale"),p=e("lodash"),d=e("object-path"),f=e("../utils/districts"),h=e("../utils/governorates"),g=e("../utils/is-numerical-overlay"),b=e("../utils/format"),y=e("../utils/scales"),v=o.default.L,_=[[22.278144,25.12783],[31.118067,33.719138]],E=["#E8F8FF","#CAE6F7","#A2D1E9","#6BAFD6","#4079B3","#1D599E","#083E7D","#0C2B53"],j=["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],A={weight:1,opacity:1,color:"white",fillOpacity:.8},N={"very low":5,low:4,medium:3,high:2,"very high":1},w={5:"very low",4:"low",3:"medium",2:"high",1:"very high"},k=i.default.createClass({displayName:"Map",propTypes:{lang:i.default.PropTypes.string,location:i.default.PropTypes.object,markers:i.default.PropTypes.array,overlay:i.default.PropTypes.object},getInitialState:function(){return{activeProject:!0,activeIndicator:!1,overlayScale:!1,overlayLayer:!1}},fitMap:function(e){var t=void 0;t=e.location?e.location.type?r(e.location):e.location:_,this.map.fitBounds(t)},addClusterMarkers:function(e,t){t=t||"en";var a="en"===t?"name":"nameAr",n=this.markerLayer;n.clearLayers(),e.forEach(function(e){var r=v.marker(e.centroid,{icon:v.mapbox.marker.icon({"marker-symbol":"circle","marker-color":"2B2342"})}),s=e.ontime?"On Time":"Delayed",i=e.ontime?"project--ontime":"project--delayed",l=e.isDistrict?f.byName:h.byName,o=l(e.region)[a];r.bindPopup("<div class='marker__internal'><h5 class='marker__title'><a href='#/"+t+"/projects/"+e.id+"' class='link--deco'>"+e.name+"</a></h5><dl class='card-meta "+i+"'><dt class='card-meta__label'>Status</dt><dd class='card-meta__value card-meta__value--status'>"+s+"</dd><dt class='card-meta__label'>Location</dt><dd class='card-meta__value card-meta__value--location'>"+o+"</dd></dl></div>"),n.addLayer(r)})},renderOverlay:function(e){if(this.overlay&&this.overlay.remove(),!e)return!1;var t=e.values,a=e.regions,n=e.category;n?"categorical"===n||(0,g.isNumerical)(t)||(n="categorical"):n=(0,g.isNumerical)(t)?"diverging":"categorical";var r=void 0,s=void 0;if(n)switch(n.toLowerCase()){case"sequential":r=t.map(function(e){return+e.value}),s=(0,m.scaleQuantile)().domain(r).range(E.slice(0,5));break;case"diverging":case"divergent":r=t.map(function(e){return+e.value}),s=(0,m.scaleQuantile)().domain(r).range(j.slice(0,5));break;case"categorical":default:r=(0,p.uniq)(t.map(function(e){return e.value})).sort(function(e,t){return e<t?1:-1});var i=j.length;r.length>i&&(console.log("WARNING: categorical data for this indicator contains too many unique categories"),console.log("Shortening the number of indicators to",i),r=r.slice(0,i)),s=(0,m.scaleOrdinal)().domain(r).range(j.slice(0,r.length))}var l=function(e){return e.properties._value?(0,p.extend)({fillColor:s(e.properties._value)},A):A},o=a.features.length>300,c=o?"id":"admin_id",u={};return t.forEach(function(e){o?u[e.id.substring(3,7)]="categorical"===n?e.value:+e.value:u[e.id]="categorical"===n?e.value:+e.value}),a.features.forEach(function(e){e.properties._value=(0,d.get)(u,e.properties[c])}),this.overlay=v.geoJson(a,{style:l}).bindPopup(function(e){var t=e.feature,a=t.properties[c];return"\n      <div class='marker__internal'>\n        <h5 class='marker__title'>"+(o?(0,d.get)((0,f.byId)(a),"name"):(0,d.get)((0,h.byEgy)(a),"name"))+"</h5>\n        <p class='marker__description'>Value: <strong>"+(0,d.get)(t,"properties._value","--")+"</strong></p>\n      </div>\n      "}).addTo(this.overlayLayer),s},componentWillUnmount:function(){this.map.remove()},componentWillReceiveProps:function(e){if(!e.location||this.props.location&&JSON.stringify(e.location)===JSON.stringify(this.props.location)||this.fitMap(e),!e.markers||this.props.markers&&e.markers.length===this.props.markers.length&&JSON.stringify(e.markers)===JSON.stringify(this.props.markers)&&e.lang===this.props.lang||this.addClusterMarkers(e.markers,e.lang),e.overlay&&(!this.props.overlay||e.overlay.id!==this.props.overlay.id)||this.props.overlay&&!e.overlay)if(e.overlay&&e.overlay.hasOwnProperty("mapid")){var t=this.addMapboxLayer(e.overlay.mapid);this.renderOverlay(!1),this.setState({overlayLayer:t,overlayScale:y.customScales[e.overlay.mapid]})}else{this.props.overlay&&this.props.overlay.hasOwnProperty("mapid")&&(this.removeMapboxLayer(),this.setState({overlayLayer:!1}));var a=this.renderOverlay(e.overlay);this.setState({overlayScale:a})}},mountMap:function(e){if(e){this.map=v.mapbox.map(e,null,{scrollWheelZoom:!1,maxZoom:11});var t={Basic:v.tileLayer("https://api.mapbox.com/styles/v1/map-egypt/civld9uy0000n2kmnd7lqs3ne/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwLWVneXB0IiwiYSI6ImNpdmxkMjl6bTA3c2YyeXBvNDJnZDlqZGMifQ.KQSizb18ILr6wri0cBcd2Q"),Satellite:v.mapbox.tileLayer("mapbox.satellite")};t.Basic.addTo(this.map),v.control.layers(t).addTo(this.map),this.overlayLayer=v.featureGroup(),this.map.addLayer(this.overlayLayer),this.markerLayer=v.markerClusterGroup({polygonOptions:{opacity:0,fillOpacity:0}}),this.map.addLayer(this.markerLayer),this.fitMap(this.props);var a=this.props,n=a.markers,r=a.overlay,s=a.lang;if(n&&this.addClusterMarkers(n,s),r){var i=this.renderOverlay(r);this.setState({overlayScale:i})}}},addMapboxLayer:function(e){var t=v.mapbox.tileLayer(e);return this.map.addLayer(t),t},removeMapboxLayer:function(){this.map.removeLayer(this.state.overlayLayer)},renderMarkerLegend:function(e){var t=(0,d.get)(o.default.t,[this.props.lang,"map_labels"],{});return i.default.createElement("div",{className:"legend__markers"},i.default.createElement("div",{className:"legend__item"},i.default.createElement("span",{className:"legend--cluster"},e),i.default.createElement("span",{className:"legend__label--cluster"},t.map_group_label)),i.default.createElement("div",{className:"legend__item"},i.default.createElement("span",{className:"legend__label--marker"},t.map_project_label)))},renderOverlayLegend:function(e,t){var a=e.hasOwnProperty("invertExtent"),n=a?e.range():e.domain();n.sort(function(e,t){return t-e});var r=!1,s=(0,d.get)(this.props,"overlay.category");if(s&&"categorical"===s.toLowerCase()){var l=n.map(function(e){return N[e]});l.sort(function(e,t){return t-e}),r=l.filter(Boolean).length===n.length,n=r?l:n}var c=(0,d.get)(o.default.t,[this.props.lang,"map_labels"],{}),u=this.props.overlay.values.length<this.props.overlay.regions.features.length?i.default.createElement("dl",{key:"nodata-swatch",className:"legend__item legend__overlay--item"},i.default.createElement("dt",{className:"legend__item--overlay--bg",style:{backgroundColor:"#ffffff"}}),i.default.createElement("dt",{className:"legend__item--overlay-text"},c.no_data)):"";return i.default.createElement("span",{className:"legend__overlay"},u,n.map(function(t,n){var s=a?t:e(t),l=a?e.invertExtent(t).map(b.roundedNumber).join(" - "):t;return i.default.createElement("dl",{key:t,className:"legend__item legend__overlay--item"},i.default.createElement("dt",{className:"legend__item--overlay--bg",style:{backgroundColor:s}}),i.default.createElement("dt",{className:"legend__item--overlay-text"},r&&!a?w[l]:l))}),i.default.createElement("span",{className:"legend__overlay--units"},t&&"unknown"!==t.toLowerCase()?t+" (Units)":""))},render:function(){return i.default.createElement("div",{className:"map__group"},i.default.createElement("div",{className:"map__container",ref:this.mountMap}),i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"legend__container"},this.renderMarkerLegend(this.props.markers.length),this.state.overlayScale&&this.renderOverlayLegend(this.state.overlayScale,this.props.overlay.units))))}});t.exports=k},{"../utils/districts":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/districts.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/governorates":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js","../utils/is-numerical-overlay":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/is-numerical-overlay.js","../utils/scales":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/scales.js","@turf/bbox":"@turf/bbox","d3-scale":"d3-scale","global/window":"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/global/window.js",lodash:"lodash","object-path":"object-path",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/page-footer.js":[function(e,t,a){"use strict";var n=e("react"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("object-path"),i=e("global"),l=r.default.createClass({displayName:"PageFooter",getInitialState:function(){return{email:""}},propTypes:{lang:r.default.PropTypes.string},onChange:function(e){this.setState({email:e.target.value})},render:function(){var e=(0,s.get)(i.window.t,[this.props.lang,"footer"],{});return r.default.createElement("footer",{className:"page__footer",role:"contentinfo"},r.default.createElement("div",{className:"inner"},r.default.createElement("div",null,r.default.createElement("div",{className:"updates"},r.default.createElement("div",{className:"form__group"},r.default.createElement("h1",{className:"updates__title heading--xsmall"},e.subscription_title),r.default.createElement("p",{className:"updates__description"},e.subscription_subtitle," ",r.default.createElement("span",{className:"italic"},e.subscription_subtitle_timeframe),"."),r.default.createElement("div",{id:"mc_embed_signup"},r.default.createElement("form",{action:"//github.us14.list-manage.com/subscribe/post?u=7a02eb473bd111aa85bfb7ffc&id=120d44b3d2",method:"post",id:"mc-embedded-subscribe-form",name:"mc-embedded-subscribe-form",className:"validate form__input-group",target:"_blank",noValidate:!0},r.default.createElement("input",{type:"email",value:this.state.email,placeholder:e.email_field,name:"EMAIL",className:"required email form__control form__control--large",id:"form-input-6",onChange:this.onChange}),r.default.createElement("div",{id:"mce-responses",className:"clear"},r.default.createElement("div",{className:"response",id:"mce-error-response",style:{display:"none"}}),r.default.createElement("div",{className:"response",id:"mce-success-response",style:{display:"none"}})),r.default.createElement("span",{className:"form__input-group-button"},r.default.createElement("button",{type:"submit",className:"button button--primary button--text-hidden button--large button--newsletter-icon"},r.default.createElement("span",null,"Button"))))))),r.default.createElement("div",{className:"logos"},r.default.createElement("ul",{className:"logos__list"},r.default.createElement("li",null,r.default.createElement("a",{title:"Visit sponsor webpage",className:"logos__item",target:"_blank",href:"http://egyptssp.ifpri.info/"},r.default.createElement("img",{src:"assets/graphics/content/iflri.png",alt:"View sponsor website"}))),r.default.createElement("li",null,r.default.createElement("a",{title:"Visit sponsor webpage",className:"logos__item",target:"_blank",href:"http://www.agr-egypt.gov.eg/"},r.default.createElement("img",{src:"assets/graphics/content/malr.jpg",alt:"View sponsor website"}))),r.default.createElement("li",null,r.default.createElement("a",{title:"Visit sponsor webpage",className:"logos__item",target:"_blank",href:"https://www.usaid.gov/"},r.default.createElement("img",{width:"150px",src:"assets/graphics/content/usaid.png",alt:"View sponsor website"})))))),r.default.createElement("div",{className:"contact"},r.default.createElement("p",{className:"contact__item"},r.default.createElement("a",{title:"contact us",href:"mailto:fpri-egypt@cgiar.org",className:"link--primary"},r.default.createElement("span",null,e.contact_link))," ",e.contact_sentence,"."))))}});t.exports=l},{global:"global","object-path":"object-path",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/page-header.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){var n=e.slice();return n[t]=a,n}var s=e("react"),i=n(s),l=e("react-router"),o=e("../utils/auth"),c=n(o),u=e("store"),m=n(u),p=e("object-path"),d=e("../actions"),f=e("global"),h=i.default.createClass({displayName:"PageHeader",propTypes:{location:i.default.PropTypes.object,dispatch:i.default.PropTypes.func,authenticated:i.default.PropTypes.bool,lang:i.default.PropTypes.string},onRootMenuClick:function(e){document.documentElement.classList.remove("offcanvas-revealed")},offcanvasMenuClick:function(e){e.preventDefault(),document.documentElement.classList.toggle("offcanvas-revealed")},onLoginClick:function(){m.default.set("last_path_before_auth",this.props.location.pathname),c.default.login()},onLogoutClick:function(){c.default.logout(),this.props.dispatch((0,d.updateAuth)(!1))},render:function(){var e="/"+this.props.lang,t=(0,p.get)(f.window.t,[this.props.lang,"main_navigation"],{}),a=this.props.location.pathname.split("/"),n=a.indexOf(this.props.lang),s=n>=0?r(a,n,"ar").join("/"):"/ar",o=n>=0?r(a,n,"en").join("/"):"/en";return i.default.createElement("header",{className:"page__header",role:"banner"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"page__headline"},i.default.createElement("h1",{className:"page__title"},i.default.createElement("a",{href:"/",title:"Visit homepage"},i.default.createElement("img",{src:"/assets/graphics/layout/logo.svg",alt:"logotype",height:"75"})))),i.default.createElement("nav",{className:"page__prime-nav"},i.default.createElement("h2",{className:"page__prime-nav-title"},i.default.createElement("a",{href:"#nav-block-browse",onClick:this.offcanvasMenuClick},i.default.createElement("span",null,"Menu"))),i.default.createElement("div",{className:"nav-block",id:"nav-block-browse"},i.default.createElement("ul",{className:"browse-menu"},i.default.createElement("li",null,i.default.createElement(l.Link,{to:e+"/projects",title:"Visit projects and indicators page",className:"browse-menu__item link--deco",activeClassName:"link--deco-active",onClick:this.onRootMenuClick},i.default.createElement("span",null,t.projects_navitem))),i.default.createElement("li",null,i.default.createElement(l.Link,{to:e+"/about",title:"Visit about page",className:"browse-menu__item link--deco",activeClassName:"browse-menu__item link--deco-active",onClick:this.onRootMenuClick},i.default.createElement("span",null,t.about_navitem)))),i.default.createElement("ul",{className:"utilities-menu"},i.default.createElement("li",null,i.default.createElement(l.Link,{to:o,title:"Switch to English",className:"browse-menu__item link--deco",activeClassName:"link--deco-active",onClick:this.onRootMenuClick},i.default.createElement("span",null,"English"))),i.default.createElement("li",null,i.default.createElement(l.Link,{to:s,title:"Switch to Arabic",className:"browse-menu__item link--deco",activeClassName:"link--deco-active",onClick:this.onRootMenuClick
},i.default.createElement("span",null,"عربي"))),!this.props.authenticated&&i.default.createElement("li",null,i.default.createElement(l.Link,{title:"Log in",className:"browse-menu__item link--deco",activeClassName:"browse-menu__item",onClick:this.onLoginClick},i.default.createElement("span",null,t.login_navitem))),this.props.authenticated&&i.default.createElement("li",null,i.default.createElement(l.Link,{to:this.props.location.pathname,title:"Log out",className:"browse-menu__item link--deco",activeClassName:"browse-menu__item",onClick:this.onLogoutClick},i.default.createElement("span",null,t.logout_navitem))))))))}});t.exports=h},{"../actions":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js","../utils/auth":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/auth.js",global:"global","object-path":"object-path",react:"react","react-router":"react-router",store:"store"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js":[function(e,t,a){"use strict";var n=e("react"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("object-path"),i=e("global"),l=r.default.createClass({displayName:"Print",propTypes:{lang:r.default.PropTypes.string},print:function(){"function"==typeof i.window.print&&i.window.print()},render:function(){var e=(0,s.get)(i.window.t,[this.props.lang,"category_pages"],{});return r.default.createElement("button",{className:"button button--medium button--primary",onClick:this.print},e.print)}});t.exports=l},{global:"global","object-path":"object-path",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o.default.resolve(e,"category",(0,h.default)(t))}function s(e){if("closed"===e.status.en.toLowerCase())return"closed";var t=(0,d.parseProjectDate)(e.planned_end_date),a=(0,d.parseProjectDate)(e.actual_end_date),n=(0,d.parseProjectDate)(e.planned_start_date),r=(0,d.parseProjectDate)(e.actual_start_date),s=r>n||!r&&n&&n<(new Date).getTime(),i=!a&&t&&t<(new Date).getTime()||a>t;return n?n>(new Date).getTime()?"planned":s?"delayed":i?"extended":"ontime":null}function i(e){var t=e.actual_end_date||e.planned_end_date,a=e.actual_start_date;if(!t||!a)return 0;var n=(new Date).getTime(),r=(0,d.parseProjectDate)(t);if(n>r)return 100;var s=(0,d.parseProjectDate)(a),i=r-s,l=n-s;return Math.round(l/i*100)}var l=e("path"),o=n(l),c=e("react"),u=n(c),m=e("react-router"),p=e("object-path"),d=e("../utils/date"),f=e("../utils/slugify"),h=n(f),g=e("../utils/format"),b=e("../utils/location"),y=n(b),v=e("../utils/accessors"),_=u.default.createClass({displayName:"ProjectCard",propTypes:{lang:u.default.PropTypes.string,project:u.default.PropTypes.object},render:function(){var e=this.props,t=e.project,a=e.lang,n=s(t),l="project--"+n,c="/"+a,d=(0,p.get)(t,"budget",[]).reduce(function(e,t){return e+t.fund.amount},0),f=(0,g.pct)(i(t)),h=[];(0,p.get)(t,"location",[]).map(function(e,t){var n=(0,y.default)(e,a);n&&h.push(n.display)});var b=(0,p.get)(window.t,[a,"project_pages"],{});return u.default.createElement("div",{className:"project"},u.default.createElement("article",{className:l},u.default.createElement("div",{className:"card__contents"},u.default.createElement("header",{className:"card__header"},u.default.createElement("h1",{className:"card__title heading--xsmall"},u.default.createElement(m.Link,{to:o.default.resolve(c,"projects",t.id),className:"link--deco",href:""},(0,v.getProjectName)(t,a))),f&&u.default.createElement("ul",{className:"card-cmplt"},u.default.createElement("li",{style:{width:f}},u.default.createElement("span",null,f," cmplt")))),u.default.createElement("div",{className:"card__body"},u.default.createElement("dl",{className:"card-meta"},"closed"!==n&&"planned"!==n?u.default.createElement("dd",{className:"card-meta__value card-meta__value--timeline"},t.status[a]):"","planned"!==n?u.default.createElement("dd",{className:"card-meta__value card-meta__value--status "+l},b["status_"+n]):"",u.default.createElement("dd",{className:"card-meta__value card-meta__value--location"},h.join(", "))),u.default.createElement("p",null,(0,g.shortParagraph)((0,v.getDescription)(t,a))),u.default.createElement("div",{className:"card__categories"},t.categories.map(function(e,t){var n=e.en;return u.default.createElement("span",{key:n,className:"card__subtitle"},u.default.createElement(m.Link,{to:r(c,n),className:"link--secondary",href:""},e[a]))})),u.default.createElement("ul",{className:"card-stats"},u.default.createElement("li",null,(0,g.currency)((0,g.shortTally)(d))," ",u.default.createElement("small",null,"funding")),u.default.createElement("li",null,(0,g.tally)(t.number_served.number_served)," ",u.default.createElement("small",null,t.number_served.number_served_unit.toLowerCase())))))))}});t.exports=_,t.exports.isOntime=s,t.exports.percentComplete=i},{"../utils/accessors":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/accessors.js","../utils/date":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/date.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/location":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/location.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-router":"react-router"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-list.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),s=n(r),i=e("object-path"),l=e("lodash"),o=n(l),c=e("./project-card"),u=n(c),m=e("global"),p=s.default.createClass({displayName:"ProjectList",propTypes:{projects:s.default.PropTypes.array,meta:s.default.PropTypes.object,lang:s.default.PropTypes.string},getInitialState:function(){return{showSort:!1,sortAccessor:{name:"Alphabetical",class:"sort-alphabetical",func:function(e){return e.sort(function(e,t){return e.name<t.name?-1:1})}}}},toggleSort:function(){this.setState({showSort:!this.state.showSort})},setSortAccessor:function(e){this.setState({sortAccessor:{name:e.name,class:e.class,func:e.func},showSort:!1})},render:function(){var e=this,t=this.props.lang,a=this.props,n=a.projects,r=a.meta,l=this.state.sortAccessor,p=l.func(n.slice()),d={alphabetical:{name:"Alphabetical",class:"sort-alphabetical",func:function(e){return e.sort(function(e,t){return e.name<t.name?-1:1})}},completeUp:{name:"Percent Complete",class:"sort-ascending",func:function(e){return e.sort(function(e,t){return(0,c.percentComplete)(e)<(0,c.percentComplete)(t)?-1:1})}},completeDown:{name:"Percent Complete",class:"sort-descending",func:function(e){return e.sort(function(e,t){return(0,c.percentComplete)(e)>(0,c.percentComplete)(t)?-1:1})}}},f=(0,i.get)(m.window.t,[t,"projects_list_view"],{});return s.default.createElement("div",{className:"inpage__body"},s.default.createElement("div",{className:"inner"},s.default.createElement("section",{className:"inpage__section project-list"},s.default.createElement("div",{className:"section__header"},s.default.createElement("h1",{className:"section__title"},f.projects_title),s.default.createElement("div",{className:"sort"},s.default.createElement("label",{className:"heading--label"},f.sort_by_title,":"),s.default.createElement("span",{className:"dropdown__container"},s.default.createElement("button",{className:"button button--medium button--secondary drop__toggle--caret "+this.state.sortAccessor.class,onClick:this.toggleSort},f[this.state.sortAccessor.class.replace("-","_")]),this.state.showSort&&s.default.createElement("ul",{className:"drop__menu drop--align-left button--secondary"},o.default.map(d,function(t,a){return s.default.createElement("li",{className:"drop__menu-item menu-item--wide "+t.class,key:t.class,onClick:function(){return e.setSortAccessor(t)}},f[t.class.replace("-","_")])}))))),s.default.createElement("div",{className:"section__content"},s.default.createElement("ul",{className:"projects-list"},p.map(function(e){return s.default.createElement("li",{key:e.id,className:"projects-list__card"},s.default.createElement(u.default,{lang:r.lang,project:e}))}))))))}});t.exports=p},{"./project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js",global:"global",lodash:"lodash","object-path":"object-path",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-timeline.js":[function(e,t,a){"use strict";function n(e,t,a,n){var r=a(new Date(e)),i=a(new Date(t)),l=i-r;return s.default.createElement("div",{className:"timeline__row"},s.default.createElement("div",{className:"timeline__inner",style:{left:r+"%",width:l+"%"}}),s.default.createElement("hr",{style:{left:r+"%"}}),s.default.createElement("hr",{style:{left:i+"%"}}),s.default.createElement("h5",{className:"timeline__label",style:{left:r+"%"}},(0,o.formatDate)(e,n)),s.default.createElement("h5",{className:"timeline__label timeline__label--right",style:{right:100-i+"%"}},(0,o.formatDate)(t,n)))}var r=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("d3"),l=e("object-path"),o=e("../utils/date"),c=e("global"),u=s.default.createClass({displayName:"ProjectTimeline",propTypes:{project:s.default.PropTypes.object,meta:s.default.PropTypes.object,lang:s.default.PropTypes.string},render:function(){var e=this.props.project,t=(0,o.parseProjectDate)(e.planned_start_date),a=(0,o.parseProjectDate)(e.planned_end_date),r=e.actual_start_date?(0,o.parseProjectDate)(e.actual_start_date):null,u=!e.actual_end_date||(0,o.parseProjectDate)(e.actual_end_date)>(new Date).getTime()?(new Date).getTime():(0,o.parseProjectDate)(e.actual_end_date),m=r?Math.min(t,r):t,p=u?Math.max(a,u):a,d=(0,i.scaleTime)().domain([new Date(m),new Date(p)]).range([0,100]),f=this.props.lang,h=(0,l.get)(c.window.t,[f,"project_pages"],{});return s.default.createElement("div",{className:"timeline"},s.default.createElement("div",{className:"timeline__unit"},s.default.createElement("h5",{className:"timeline__headline heading-alt"},h.current_progress_title),r&&u&&n(r,u,d,f)),s.default.createElement("div",{className:"timeline__unit"},s.default.createElement("h5",{className:"timeline__headline heading-alt"},h.proposed_timeline_title),n(t,a,d,f)))}});t.exports=u},{"../utils/date":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/date.js",d3:"d3",global:"global","object-path":"object-path",react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/share.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("react"),s=n(r),i=e("url"),l=n(i),o=e("react-click-outside"),c=n(o),u=e("object-path"),m=e("../config"),p=e("clipboard"),d=n(p),f=e("global"),h=s.default.createClass({displayName:"ShareButton",propTypes:{path:s.default.PropTypes.string,meta:s.default.PropTypes.object,lang:s.default.PropTypes.string},getInitialState:function(){return{isOpen:!1}},show:function(){this.setState({isOpen:!0})},close:function(){this.setState({isOpen:!1})},handleClickOutside:function(){this.close()},componentDidMount:function(){this.clipboard=new d.default("#share-url-button")},componentWillUnmount:function(){this.clipboard&&"function"==typeof this.clipboard.destroy&&this.clipboard.destroy()},render:function(){var e=this.state.isOpen?" drop__content--open":"",t=this.props.lang,a=(0,u.get)(f.window.t,[t,"general_buttons"],{});return s.default.createElement("span",{className:"share--container"},s.default.createElement("button",{className:"button button--medium button--primary",onClick:this.show},a.share),this.state.isOpen&&s.default.createElement("div",{className:"share--box drop__content drop--align-right"+e},s.default.createElement("div",{className:"form__group"},s.default.createElement("label",{className:"form__label"},a.share_text),s.default.createElement("div",{className:"form__input-group"},s.default.createElement("input",{id:"share-url-field",readOnly:!0,type:"text",className:"form__control form__control--medium",value:l.default.resolve(m.baseUrl,"#"+this.props.path)}),s.default.createElement("span",{className:"form__input-group-button"},s.default.createElement("button",{type:"submit",className:"button button--primary button--text-hidden button--medium button--copy-icon","data-clipboard-target":"#share-url-field",id:"share-url-button"},s.default.createElement("span",null,"Button"))))),s.default.createElement("button",{className:"modal__button-dismiss",title:"close",onClick:this.close})))}});t.exports=(0,c.default)(h)},{"../config":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config.js",clipboard:"clipboard",global:"global","object-path":"object-path",react:"react","react-click-outside":"react-click-outside",url:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/url/url.js"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("lodash"),s=e("./config/base"),i=n(s),l=e("./config/develop"),o=(n(l),e("./config/production")),c=n(o),u=(0,r.clone)(i.default);(0,r.defaultsDeep)(u,c.default),t.exports=u},{"./config/base":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config/base.js","./config/develop":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config/develop.js","./config/production":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config/production.js",lodash:"lodash"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config/base.js":[function(e,t,a){"use strict";t.exports={api:"https://ifpri-egypt-silo.herokuapp.com/",authDomain:"map-egypt.auth0.com",authClientId:"ZCoeGvXrh2Ex0x2UtCnnZ89wgUEMURRA"}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config/develop.js":[function(e,t,a){"use strict";t.exports={environment:"development",baseUrl:"http://localhost:3000/"}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config/production.js":[function(e,t,a){"use strict";t.exports={environment:"production",baseUrl:"https://map-egypt.github.io/"}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/main.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a=y.default.get("last_path_before_auth");a&&(y.default.clear("last_path_before_auth"),t({pathname:a})),s(e.location)}function s(e){var t=te.getState().meta.lang,a=e.pathname.split("/").filter(Boolean)[0];t&&t===a||te.dispatch((0,T.updateLang)(a))}var i=e("react"),l=n(i),o=e("react-dom"),c=e("redux"),u=e("react-redux"),m=e("redux-thunk"),p=n(m),d=e("redux-logger"),f=n(d),h=e("react-router-scroll"),g=e("react-router"),b=e("store"),y=n(b),v=e("mapbox.js"),_=(n(v),e("leaflet.markercluster")),E=(n(_),e("global/window")),j=n(E),A=e("./config"),N=n(A),w=e("./reducers"),k=n(w),x=e("./utils/map-utils"),T=e("./actions"),P=e("./utils/auth"),C=e("./views/app"),S=n(C),D=e("./views/home"),O=n(D),M=e("./views/uhoh"),I=n(M),R=e("./views/project-browse"),L=n(R),F=e("./views/project"),G=n(F),z=e("./views/category"),B=n(z),q=e("./views/donor"),U=n(q),Y=e("./views/owner"),K=n(Y),H=e("./views/ministry"),V=n(H),W=e("./views/about"),Z=n(W),J=e("./views/contact"),Q=n(J),X=e("./views/elements"),$=n(X);j.default.L.mapbox.accessToken="pk.eyJ1IjoibWFwLWVneXB0IiwiYSI6ImNpdmxkMjl6bTA3c2YyeXBvNDJnZDlqZGMifQ.KQSizb18ILr6wri0cBcd2Q";var ee=(0,f.default)({level:"info",collapsed:!0,predicate:function(e,t){return"production"!==N.default.environment}}),te=(0,c.createStore)(k.default,(0,c.applyMiddleware)(p.default,ee)),ae=!(0,P.hasValidToken)();te.dispatch((0,T.getAuthStatus)(function(){ae&&te.dispatch((0,T.getProjects)())})),te.dispatch((0,T.getProjects)()),te.dispatch((0,T.getIndicators)()),te.dispatch((0,T.getGeography)(x.GOVERNORATE)),te.dispatch((0,T.getGeography)(x.DISTRICT));var ne=(0,h.useScroll)(function(e,t){return e&&decodeURIComponent(t.location.pathname)!==decodeURIComponent(e.location.pathname)});(0,o.render)(l.default.createElement(u.Provider,{store:te},l.default.createElement(g.Router,{history:g.hashHistory,render:(0,g.applyRouterMiddleware)(ne)},l.default.createElement(g.Route,{path:"/404",component:I.default}),l.default.createElement(g.Route,{path:"/access_token=:token"}),l.default.createElement(g.Route,{path:"/:lang",component:S.default,onEnter:r},l.default.createElement(g.Route,{path:"projects",component:L.default}),l.default.createElement(g.Route,{path:"projects_sds",component:L.default,modal:"SDS"}),l.default.createElement(g.Route,{path:"projects_sdg",component:L.default,modal:"SDG"}),l.default.createElement(g.Route,{path:"projects_other",component:L.default,modal:"other"}),l.default.createElement(g.Route,{path:"projects/:id",component:G.default}),l.default.createElement(g.Route,{path:"category/:name",component:B.default}),l.default.createElement(g.Route,{path:"donor/:name",component:U.default}),l.default.createElement(g.Route,{path:"owner/:name",component:K.default}),l.default.createElement(g.Route,{path:"ministry/:name",component:V.default}),l.default.createElement(g.Route,{path:"about",component:Z.default}),l.default.createElement(g.Route,{path:"contact",component:Q.default}),l.default.createElement(g.Route,{path:"elements",component:$.default}),l.default.createElement(g.IndexRoute,{component:O.default,pageClass:"page--homepage"})),l.default.createElement(g.Redirect,{from:"/",to:"/en"}))),document.querySelector("#app-container"))},{"./actions":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js","./config":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config.js","./reducers":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/reducers/index.js","./utils/auth":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/auth.js","./utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","./views/about":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/about.js","./views/app":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/app.js","./views/category":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/category.js","./views/contact":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/contact.js","./views/donor":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/donor.js","./views/elements":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/elements.js","./views/home":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/home.js","./views/ministry":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/ministry.js","./views/owner":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/owner.js","./views/project":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/project.js","./views/project-browse":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/project-browse.js","./views/uhoh":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/uhoh.js","global/window":"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/global/window.js","leaflet.markercluster":"leaflet.markercluster","mapbox.js":"mapbox.js",react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router","react-router-scroll":"react-router-scroll",redux:"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk",store:"store"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/reducers/api.js":[function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(e=Object.assign({},e),t.type){case s.AUTHENTICATED:(0,r.set)(e,"authenticated",t.data);break;case s.PROJECTS:(0,r.set)(e,"projects",t.data);break;case s.PROJECT:(0,r.set)(e,["projectDetail",t.data.id],t.data);break;case s.INDICATORS:(0,r.set)(e,"indicators",t.data);break;case s.INDICATOR:(0,r.set)(e,["indicatorDetail",t.data.id],t.data);break;case s.GEOGRAPHY:t.data.name===i.DISTRICT&&(0,r.get)(t.data.features,"features",[]).forEach(function(e){var t=e.properties.Qism_Mar_1;e.properties.admin_id="EGY"+t}),(0,r.set)(e,["geography",t.data.name],t.data.features)}return e}Object.defineProperty(a,"__esModule",{value:!0}),a.initialState=void 0,a.default=n;var r=e("object-path"),s=e("../actions"),i=e("../utils/map-utils"),l=a.initialState={authenticated:!1,projects:[],projectDetail:{},indicators:[],geography:{}}},{"../actions":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","object-path":"object-path"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/reducers/index.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.reducers=void 0;var r=e("redux"),s=e("./api"),i=n(s),l=e("./meta"),o=n(l),c=a.reducers={def:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1];return e},api:i.default,meta:o.default};a.default=(0,r.combineReducers)(Object.assign({},c,{}))},{"./api":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/reducers/api.js","./meta":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/reducers/meta.js",redux:"redux"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/reducers/meta.js":[function(e,t,a){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];return t.type===r.LANGUAGE?Object.assign({},e,{lang:t.data}):e}Object.defineProperty(a,"__esModule",{value:!0}),a.initialState=void 0,a.default=n;var r=e("../actions"),s=a.initialState={lang:null}},{"../actions":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/accessors.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getDonorName=function(e,t){return"ar"===t&&e.donor_name_ar?e.donor_name_ar:e.donor_name},a.getProjectName=function(e,t){return"ar"===t&&e.name_ar?e.name_ar:e.name},a.getDescription=function(e,t){return"ar"===t&&e.description_ar?e.description_ar:e.description}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/auth.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(0,m.default)(e);if(!t.exp)return null;var a=new Date(0);return a.setUTCSeconds(t.exp),a}function s(e){var t=r(e);return null!==t&&!(t.valueOf()>(new Date).valueOf()+36e5)}var i=e("auth0-lock"),l=n(i),o=e("store"),c=n(o),u=e("jwt-decode"),m=n(u),p=e("../config"),d=void 0;d=new l.default(p.authClientId,p.authDomain,{theme:{primaryColor:"#55CBC9",logo:"assets/graphics/layout/logo.svg"}});var f=c.default.get("id_token"),h=f&&s(f),g=!!f&&!h;f&&h&&c.default.remove("id_token");var b=[];d.on("authenticated",function(e){setTimeout(function(){c.default.set("id_token",e.idToken),g=!0,b.forEach(function(e){return e(g)})},0),d.getProfile(e.idToken,function(e,t){if(e)throw new Error(e);c.default.set("profile",JSON.stringify(t))})}),t.exports={login:function(){return d.show()},logout:function(){c.default.remove("id_token"),c.default.remove("profile")},registerDispatch:function(e){g?e(g):b.push(e)},hasValidToken:function(){var e=c.default.get("id_token");return!!e&&!s(e)}}},{"../config":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config.js","auth0-lock":"auth0-lock","jwt-decode":"jwt-decode",store:"store"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/date.js":[function(e,t,a){"use strict";t.exports.parseProjectDate=function(e){if(!e)return!1;var t=e.split("/");return 2!==t.length?(console.log("Date",e,"does not match YEAR/MONTH format"),!1):new Date(t[0],t[1]-1).getTime()},t.exports.formatDate=function(e,t){if(!e)return!1;var a=new Date(e);return"ar"===t?a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate():a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()},t.exports.formatSimpleDate=function(e){if(!e)return!1;var t=new Date(e);return t.getMonth()+1+"/"+t.getFullYear()}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/districts.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=a.districts=[{id:"0101",name:"Al Tbeen",nameAr:"التبين"},{id:"0102",name:"Helwan",nameAr:"حلوان"},{id:"0103",name:"15th of May",nameAr:"مدينة ١٥ مايو"},{id:"0104",name:"Maadi",nameAr:"المعادي"},{id:"0105",name:"Al Mosky",nameAr:"الموسكي"},{id:"0106",name:"Misr Al Kadima",nameAr:"مصر القديمة"},{id:"0107",name:"Al Sayda Zeinab",nameAr:"السيدة زينب"},{id:"0108",name:"Al Khalifa",nameAr:"الخليفة"},{id:"0109",name:"Abdeen",nameAr:"عبدين"},{id:"0111",name:"Kasr  El  Nile",nameAr:"قصر النيل"},{id:"0112",name:"Bolak",nameAr:"بولاق"},{id:"0113",name:"El  Azbakia",nameAr:"الأزبكية"},{id:"0114",name:"Al Darb  El Ahmr",nameAr:"الدرب الأحمر"},{id:"0116",name:"Bab Al Sharia",nameAr:"باب الشعرية"},{id:"0117",name:"Al Zaher",nameAr:"الظاهر"},{id:"0118",name:"El Sharabia",nameAr:"الشرابية"},{id:"0119",name:"Shobra",nameAr:"شبرا"},{id:"0120",name:"Rod El Farg",nameAr:"روض الفرج"},{id:"0121",name:"Al Sahel",nameAr:"الساحل"},{id:"0122",name:"Al Waily",nameAr:"الوايلي"},{id:"0123",name:"Hadaek Al Koba",nameAr:"حدائق القبة"},{id:"0124",name:"Al Zayton",nameAr:"الزيتون"},{id:"0125",name:"Al Mataria",nameAr:"المطرية"},{id:"0126",name:"First Nasr City",nameAr:"مدينة نصر أول"},{id:"0127",name:"Nasr City",nameAr:"مدينة نصر"},{id:"0128",name:"Misr Al Gadidah",nameAr:"مصر الجديدة"},{id:"0129",name:"Al Nozha",nameAr:"النزهة"},{id:"0130",name:"Ain Shams",nameAr:"عين شمس"},{id:"0131",name:"Al Zawya Al Hamraa",nameAr:"الزاوية الحمراء"},{id:"0132",name:"Al Salam",nameAr:"السلام"},{id:"0133",name:"Zamalek",nameAr:"الزمالك"},{id:"0134",name:"Monsha'at Nasser",nameAr:"منشأة ناصر"},{id:"0135",name:"Al Basatin",nameAr:"البساتين"},{id:"0136",name:"Al Marg",nameAr:"المرج"},{id:"0137",name:"New Cairo",nameAr:"القاهرة الجديدة"},{id:"0140",name:"Al Shrook",nameAr:"الشروق"},{id:"0201",name:"Al Montzh First",nameAr:"المنتزه أول"},{id:"0202",name:"Al Raml",nameAr:"الرمل"},{id:"0203",name:"Seedy Gaber",nameAr:"سيدي جابر"},{id:"0204",name:"Bab Sharki",nameAr:"باب شرق"},{id:"0205",name:"Moharm Bek",nameAr:"محرم بك"},{id:"0206",name:"Al Atarin",nameAr:"العطارين"},{id:"0207",name:"Al Manshia",nameAr:"المنشية"},{id:"0208",name:"Karmoz",nameAr:"كرموز"},{id:"0209",name:"Al Lban",nameAr:"اللبان"},{id:"0210",name:"Al Gomrok",nameAr:"الجمرك"},{id:"0211",name:"Mina Al Bassl",nameAr:"مينا البصل"},{id:"0212",name:"Al Dkhela",nameAr:"الداخلة"},{id:"0213",name:"Al Amaria",nameAr:"العامرية"},{id:"0214",name:"Borg Al Arab",nameAr:"برج العرب"},{id:"0215",name:"Alexandria Harbour",nameAr:"مياء الاسكندرية"},{id:"0216",name:"New Borg Al Arab City",nameAr:"مدينة برج العرب الجديدة"},{id:"0301",name:"Al Shark",nameAr:"شرق"},{id:"0302",name:"Al Arab",nameAr:"العرب"},{id:"0303",name:"Al Manakh",nameAr:"المناخ"},{id:"0305",name:"Al Dawahy",nameAr:"الضواحي"},{id:"0306",name:"Al Ganob",nameAr:"جنوب"},{id:"0307",name:"Al Zohor",nameAr:"الزهور"},{id:"0308",name:"Port Foa'ad",nameAr:"بورفؤاد"},{id:"0309",name:"Mubark  - East Of Al Tafreah",nameAr:"مبارك – شرق التفريعة"},{id:"0310",name:"Al Manasra",nameAr:"المناصرة"},{id:"0312",name:"Port Saed Harbour Department",nameAr:"مديرية ميناء بورسعيد"},{id:"0401",name:"Suez",nameAr:"السويس"},{id:"0402",name:"Al Arbaeen",nameAr:"الأربعين"},{id:"0403",name:"Ataka",nameAr:"العتاقة"},{id:"0404",name:"Faisal",nameAr:"فيصل"},{id:"0405",name:"Al Ganain",nameAr:"الجناين"},{id:"0406",name:"Suez Harbour Department",nameAr:"مديرية ميناء السويس"},{id:"1102",name:"Damietta",nameAr:"دمياط"},{id:"1103",name:"Farskor",nameAr:"فارسكور"},{id:"1104",name:"Kafr Sa'ad",nameAr:"كفر سعد"},{id:"1105",name:"New Damietta City",nameAr:"مدينة دمياط الجديدة"},{id:"1106",name:"Ras Al Bar",nameAr:"رأس البر"},{id:"1107",name:"Al Zarka",nameAr:"الزرقا دمياط"},{id:"1108",name:"New Damietta Harbour Department",nameAr:"مديرية ميناء دمياط الجديد"},{id:"1201",name:"Mansoura",nameAr:"المنصورة"},{id:"1204",name:"Aga",nameAr:"أجا"},{id:"1205",name:"Al Senbilawin",nameAr:"السنبلاوين"},{id:"1206",name:"Al Mattaria",nameAr:"المطرية"},{id:"1207",name:"Al Manzala",nameAr:"المنزلة"},{id:"1208",name:"Bilkas",nameAr:"بلقيس"},{id:"1209",name:"Dekrnes",nameAr:"دكرنس"},{id:"1210",name:"Sherbin",nameAr:"شربين"},{id:"1211",name:"Talkha",nameAr:"طلخا"},{id:"1212",name:"Meet Gamr",nameAr:"ميت غمر"},{id:"1214",name:"Menit Al Nasr",nameAr:"منية النصر"},{id:"1215",name:"Al Gamalia",nameAr:"الجمالية"},{id:"1215",name:"Al Gamalia",nameAr:"الجمالية"},{id:"1216",name:"Tamy Al Madid",nameAr:"تمى الأمديد"},{id:"1217",name:"Meet Selsabil",nameAr:"ميت سلسيل"},{id:"1218",name:"Bani Ebeed",nameAr:"بني عبيد"},{id:"1219",name:"Mahlat Damna",nameAr:"محلة دمنة"},{id:"1220",name:"Gamasa",nameAr:"جمصة"},{id:"1221",name:"Nabroh",nameAr:"نبروه الدقهلية"},{id:"1301",name:"Zakazik",nameAr:"الزقازيق"},{id:"1303",name:"Al Zakazik",nameAr:"الزقازيق"},{id:"1304",name:"Abo Hamad",nameAr:"أبو حماد"},{id:"1305",name:"Abo Kbeer",nameAr:"أبو كبير"},{id:"1306",name:"Al Hesinia",nameAr:"الحسينية"},{id:"1307",name:"New Salhia",nameAr:"الصالحية الجديدة"},{id:"1308",name:"Belbes",nameAr:"بلبيس"},{id:"1309",name:"10th of Ramadan",nameAr:"العاشر من رمضان"},{id:"1310",name:"Derb Nagm",nameAr:"درب نجم"},{id:"1311",name:"Fakous",nameAr:"فاقوس"},{id:"1313",name:"Kafr Sakr",nameAr:"كفر صقر"},{id:"1314",name:"Menia Al Kamh",nameAr:"منيا القمح"},{id:"1315",name:"Hahia",nameAr:"ههيا"},{id:"1316",name:"Mashtol Al Sook",nameAr:"مشتول السوق"},{id:"1317",name:"Al Ebrahimia",nameAr:"الإبراهيمية"},{id:"1318",name:"Al Kenaiat",nameAr:"القنايات"},{id:"1319",name:"Awlad Sakr",nameAr:"أولاد صقر"},{id:"1320",name:"Al Karin",nameAr:"القرين"},{id:"1401",name:"Banha",nameAr:"بنها"},{id:"1403",name:"Al Khanka",nameAr:"الخانكة"},{id:"1404",name:"Al Knater Al Khiria",nameAr:"القناطر الخيرية"},{id:"1405",name:"Shbin Al Knanater",nameAr:"شبين القناطر"},{id:"1406",name:"Shobra Al Khima",nameAr:"شبرا الخيمة"},{id:"1408",name:"Tokh",nameAr:"طوخ"},{id:"1409",name:"Kaliob",nameAr:"قليوب"},{id:"1411",name:"Kafr Shokr",nameAr:"كفر شكر"},{id:"1412",name:"Al Khosos",nameAr:"الخصوص"},{id:"1413",name:"Al Oboor",nameAr:"العبور"},{id:"1414",name:"Khaha",nameAr:"قها"},{id:"1501",name:"Kafr Al Shikh",nameAr:"كفر الشيخ"},{id:"1503",name:"Al Brolos",nameAr:"البرلس"},{id:"1504",name:"Beala",nameAr:"بيلا"},{id:"1505",name:"Desok",nameAr:"دسوق"},{id:"1507",name:"Sedi Salem",nameAr:"سيدي سالم"},{id:"1508",name:"Fowa",nameAr:"فوه"},{id:"1509",name:"Kelin",nameAr:"قلين"},{id:"1510",name:"Motobs",nameAr:"موتوباس"},{id:"1511",name:"Al Hamol",nameAr:"الحمول"},{id:"1512",name:"Al Reyad",nameAr:"الرياض"},{id:"1601",name:"Tanta",nameAr:"طنطا"},{id:"1604",name:"Al Santa",nameAr:"السنطة"},{id:"1605",name:"Al Mahala Al Kobra",nameAr:"المحلة الكبرى"},{id:"1606",name:"El Mahala  El  Kobra",nameAr:"المحلة الكبرى"},{id:"1607",name:"Al Mehala Al Kobra",nameAr:"المحلة الكبرى"},{id:"1608",name:"Basyon",nameAr:"بسيون"},{id:"1609",name:"Zefta",nameAr:"زفتى"},{id:"1610",name:"Samanod",nameAr:"سمنود"},{id:"1611",
name:"Kator",nameAr:"قطور"},{id:"1612",name:"Kafr Al Ziat",nameAr:"كفر الزيات"},{id:"1701",name:"Shbin  Al Kom",nameAr:"شبين الكوم"},{id:"1702",name:"Shbin Al Kom",nameAr:"شبين الكوم"},{id:"1703",name:"Ashmon",nameAr:"أشمون"},{id:"1704",name:"Al Bagor",nameAr:"البجور"},{id:"1705",name:"Al Shohda'a",nameAr:"الشهداء"},{id:"1706",name:"Berkt Al Sabh",nameAr:"بركة السبع"},{id:"1707",name:"Tala",nameAr:"تلا"},{id:"1708",name:"Kewsina",nameAr:"قويسنا"},{id:"1710",name:"Sers Elliana",nameAr:"سرس الليان"},{id:"1711",name:"Elsadat City",nameAr:"مدينة السادات"},{id:"1712",name:"Monof",nameAr:"منوف"},{id:"1802",name:"Damnhor",nameAr:"دمنهور"},{id:"1803",name:"Abo Al Matamir",nameAr:"أبو المطامير"},{id:"1804",name:"Abo Homs",nameAr:"أبو  حمص"},{id:"1805",name:"Al Delngat",nameAr:"الدلنجات"},{id:"1806",name:"Al Mahmodia",nameAr:"المحمودية"},{id:"1807",name:"Etay Al Barod",nameAr:"إيتاي البارود"},{id:"1808",name:"Hosh Eisa",nameAr:"حوش عيسى"},{id:"1809",name:"Rashid",nameAr:"رشيد"},{id:"1810",name:"Shobra Kheet",nameAr:"شبراخيت"},{id:"1811",name:"Kafr Al Dwar",nameAr:"كفر الدوار"},{id:"1813",name:"Koom Hamada",nameAr:"كوم حماده"},{id:"1814",name:"Al Natron Valley",nameAr:"وادي النطرون"},{id:"1815",name:"Al Rahmania",nameAr:"الرحمانية"},{id:"1816",name:"Edko",nameAr:"إدكو"},{id:"1817",name:"West Of Nobaria",nameAr:"غرب النوبارية"},{id:"1818",name:"Badr",nameAr:"بدر"},{id:"1818",name:"Badr",nameAr:"بدر"},{id:"1901",name:"Ismailia",nameAr:"الإسماعيلية"},{id:"1905",name:"Al Tal Elkebeer",nameAr:"التل الكبير"},{id:"1906",name:"Al Kantara",nameAr:"القنطرة"},{id:"1907",name:"Fayed",nameAr:"فايد"},{id:"1908",name:"East Kantra",nameAr:"قنطرة شرق"},{id:"2101",name:"Imbaba",nameAr:"إمبابة"},{id:"2102",name:"Al Agoza",nameAr:"العجوزة"},{id:"2103",name:"Al Doki",nameAr:"الدقي"},{id:"2104",name:"Giza",nameAr:"الجيزة"},{id:"2105",name:"Bulaq Al Dakrur",nameAr:"بولاق الدكرور"},{id:"2106",name:"Pyramids",nameAr:"الهرم"},{id:"2107",name:"6th of October City",nameAr:"مدينة السادس من أكتوبر"},{id:"2108",name:"Al Hawamdiyya",nameAr:"الحوامدية"},{id:"2109",name:"Al Giza",nameAr:"الجيزة"},{id:"2110",name:"Al Badrashin",nameAr:"البدرشين"},{id:"2111",name:"Al Saf",nameAr:"الصف"},{id:"2112",name:"Al Ayyat",nameAr:"العياط"},{id:"2114",name:"Al Wahat Baharya",nameAr:"الواحات البحرية"},{id:"2115",name:"Atfîh",nameAr:"أطفيح"},{id:"2116",name:"Usim",nameAr:"أوسيم"},{id:"2117",name:"Al Warraq",nameAr:"الوراق"},{id:"2118",name:"Al Umraniyya",nameAr:"العمرانية"},{id:"2119",name:"Al Shikh Zaied",nameAr:"الشيخ زايد"},{id:"2120",name:"Kirdasa",nameAr:"كرداسة"},{id:"2202",name:"Beni Suef",nameAr:"بني سويف"},{id:"2203",name:"New Beni Suef",nameAr:"مدينة بني سويف الجديدة"},{id:"2204",name:"Al Fishn",nameAr:"الفشن"},{id:"2205",name:"Al Wasty",nameAr:"الواسطى"},{id:"2206",name:"Ahnasia",nameAr:"أهناسيا"},{id:"2207",name:"Beba",nameAr:"ببا"},{id:"2208",name:"Smsta",nameAr:"سمطا"},{id:"2209",name:"Naser",nameAr:"ناصر"},{id:"2302",name:"Al Fayyum",nameAr:"الفيوم"},{id:"2303",name:"Abshway",nameAr:"إبشواي"},{id:"2304",name:"Itsa",nameAr:"إطسا"},{id:"2305",name:"Snors",nameAr:"سنورس"},{id:"2306",name:"Tamia",nameAr:"طامية"},{id:"2307",name:"Youssif Al Sedik",nameAr:"يوسف الصديق"},{id:"2308",name:"New Fayoum City",nameAr:"مدينة الفيوم الجديدة"},{id:"2402",name:"Al Menia",nameAr:"المنيا"},{id:"2403",name:"New Menia City",nameAr:"مدينة المنيا الجديدة"},{id:"2404",name:"Abo Korkas",nameAr:"أبو قرقاص"},{id:"2405",name:"Al Adowa",nameAr:"العدوة"},{id:"2406",name:"Beni Mazar",nameAr:"بني مزار"},{id:"2407",name:"Der Mowas",nameAr:"ديرمواس"},{id:"2408",name:"Samalot",nameAr:"سمالوط"},{id:"2409",name:"Matay",nameAr:"مطاي"},{id:"2410",name:"Mghagha",nameAr:"مغاغة"},{id:"2411",name:"Milwy Qism",nameAr:"قسم ملوي"},{id:"2412",name:"Milwy",nameAr:"ملوي المنيا"},{id:"2503",name:"Assiout",nameAr:"أبنوب"},{id:"2504",name:"Abnob",nameAr:"أسيوط"},{id:"2505",name:"Abo Teeg",nameAr:"ديروط"},{id:"2506",name:"Al Badari",nameAr:"البداري"},{id:"2507",name:"Sahal Sleem",nameAr:"ساحل سليم"},{id:"2508",name:"Al Ganaeem",nameAr:"الغنايم"},{id:"2509",name:"Al Kossia",nameAr:"القوصية"},{id:"2510",name:"Dairot",nameAr:"أبو تيج"},{id:"2511",name:"Sadfa",nameAr:"صدفا"},{id:"2512",name:"Manfalot",nameAr:"منفلوط"},{id:"2513",name:"Al Fath",nameAr:"الفتح"},{id:"2514",name:"New Assiout City",nameAr:"مدينة أسيوط الجديدة"},{id:"2603",name:"Sohag",nameAr:"سوهاج"},{id:"2604",name:"Akhmeem",nameAr:"أخميم"},{id:"2605",name:"Al Bleena",nameAr:"البلينا"},{id:"2606",name:"Al Mragha",nameAr:"المراغة"},{id:"2607",name:"Al Monsha'ah",nameAr:"المنشأة"},{id:"2608",name:"Dar Al Salam",nameAr:"دار السلام"},{id:"2610",name:"Gerga",nameAr:"جرجا"},{id:"2611",name:"Western Gohina",nameAr:"جهينة غرب"},{id:"2612",name:"Sakalta",nameAr:"ساقلتة"},{id:"2613",name:"Tama",nameAr:"طما"},{id:"2614",name:"Tahta",nameAr:"طهطا"},{id:"2616",name:"Alkawthr",nameAr:"الكوثر"},{id:"2617",name:"Al Osirat",nameAr:"العسيرات"},{id:"2618",name:"New Akhmem City",nameAr:"مدينة أخميم الجديدة"},{id:"2619",name:"New Sohag City",nameAr:"مدينة سوهاج الجديدة"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2699",name:"Desert",nameAr:"صحراء"},{id:"2701",name:"Qena",nameAr:"قنا"},{id:"2703",name:"Abo Tesht",nameAr:"أبو تشت"},{id:"2706",name:"Nagi Hammadi",nameAr:"نجع حمادي"},{id:"2707",name:"Qous",nameAr:"قوص"},{id:"2709",name:"Naqada",nameAr:"نقادة"},{id:"2710",name:"Farshut",nameAr:"فرشوط"},{id:"2711",name:"Qift",nameAr:"قفط"},{id:"2712",name:"Al Waqf",nameAr:"الوقف"},{id:"2713",name:"New Qena City",nameAr:"مدينة قنا الجديدة"},{id:"2801",name:"Aswan",nameAr:"أسوان"},{id:"2803",name:"Edfu",nameAr:"إدفو"},{id:"2804",name:"Kom Ombo",nameAr:"كوم أمبو"},{id:"2805",name:"Nasr",nameAr:"ناصر"},{id:"2806",name:"Daraw",nameAr:"درو"},{id:"2807",name:"Abu Simbel",nameAr:"أبو سمبل"},{id:"2808",name:"New Aswan City",nameAr:"مدينة أسوان الجديدة"},{id:"2809",name:"New Toshka City",nameAr:"مدينة توشكى الجديدة"},{id:"2901",name:"Luxor",nameAr:"الأقصر"},{id:"2903",name:"Teba",nameAr:"طيبة"},{id:"2904",name:"Arment",nameAr:"أرمنت"},{id:"2905",name:"Esna",nameAr:"إسنا"},{id:"3101",name:"Hurghada",nameAr:"الغردقة"},{id:"3102",name:"Al Qusir",nameAr:"القصير"},{id:"3103",name:"Safaga",nameAr:"سفاجة"},{id:"3104",name:"Marsa Alam",nameAr:"مرسى علم"},{id:"3105",name:"Ra's Gharib",nameAr:"رأس غريب"},{id:"3106",name:"Shalateen",nameAr:"شلاتين"},{id:"3107",name:"Halaib",nameAr:"حلايب"},{id:"3201",name:"Al Kharga",nameAr:"الخارجة"},{id:"3202",name:"Al Dakhla",nameAr:"الداخلة"},{id:"3203",name:"Al Farafra",nameAr:"الفرافرة"},{id:"3204",name:"Paris",nameAr:"باريس"},{id:"3205",name:"Shark Elowinat",nameAr:"شرق العوينات"},{id:"3301",name:"Marsa Matrouh",nameAr:"مرسى مطروح"},{id:"3302",name:"Al Hammam",nameAr:"الحمام"},{id:"3303",name:"Al Sallum",nameAr:"السلوم"},{id:"3304",name:"Al Dab'a",nameAr:"الضبعة "},{id:"3305",name:"Sidi Barrani",nameAr:"سيدي براني"},{id:"3306",name:"Siwa",nameAr:"سيوة"},{id:"3307",name:"Marina Al Alameen",nameAr:"مارينا العلمين"},{id:"3308",name:"Alsahel Alshamali",nameAr:"الساحل الشمالي"},{id:"3308",name:"Alsahel Alshamali",nameAr:"الساحل الشمالي"},{id:"3401",name:"Al Areesh",nameAr:"العريش"},{id:"3405",name:"Bir Al Abd",nameAr:"بئر العبد"},{id:"3406",name:"Al Hasna",nameAr:"الحسنة"},{id:"3407",name:"Nakl",nameAr:"نخل"},{id:"3408",name:"Al Shekh Zwid",nameAr:"الشيخ زويد"},{id:"3409",name:"Rafh",nameAr:"رفح"},{id:"3410",name:"Rmana",nameAr:"رمانة"},{id:"3411",name:"Al Kassima",nameAr:"القسيمة"},{id:"3501",name:"Al Toor",nameAr:"الطور"},{id:"3502",name:"Ras Sedr",nameAr:"رأس سدر"},{id:"3503",name:"Abo Redis",nameAr:"أبود رديس"},{id:"3504",name:"Saint Katrin",nameAr:"سانت كاترين"},{id:"3505",name:"Sharm Al Shiekh",nameAr:"شرم الشيخ"},{id:"3506",name:"Dahab",nameAr:"دهب"},{id:"3507",name:"Nuwayba",nameAr:"نويبع"},{id:"3508",name:"Taba",nameAr:"طابا"},{id:"3599",name:"Abo Redis Desert",nameAr:"صحراء أبو رديس"}],r=(a.byId=function(e){return n.find(function(t){return t.id===e})},a.byName=function(e){return n.find(function(t){return t.name===e})},n.map(function(e){return e.id}));a.ids=r},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js":[function(e,t,a){"use strict";function n(e){return e||"number"==typeof e?e+"%":e}function r(e,t){return t=t||20,e.slice(0,t)+"..."}function s(e,t){t=t||25;var a=e.split(" "),n="";return a.length>t&&(a=a.slice(0,t),n="..."),a.join(" ")+n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=Math.pow(10,t);return Math.round(e*a)/a}var l=e("numeral"),o=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){return(0,o.default)(e).format("0,0")};t.exports.tally=c;var u=function(e){return e>=1e6?(0,o.default)(e/1e6).format("0,0.[00]")+"M":e>=1e3?(0,o.default)(e/1e3).format("0,0.[00]")+"K":c(e)};t.exports.shortTally=u;var m=function(e){return e>=1e6?(0,o.default)(e/1e6).format("0,0")+"M":e>=1e3?(0,o.default)(e/1e3).format("0,0")+"K":c(e)};t.exports.shorterTally=m,t.exports.pct=n,t.exports.shortText=r,t.exports.shortParagraph=s,t.exports.roundedNumber=i;var p=function(e){return"$"+e.toString()};t.exports.currency=p},{numeral:"numeral"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js":[function(e,t,a){"use strict";var n=[{egy:"EGY1163",name:"Alexandria",id:2,nameAr:"اسكندرية"},{egy:"EGY1173",name:"Aswan",id:28,nameAr:"أسوان"},{egy:"EGY1174",name:"Asyout",id:25,nameAr:"أسيوط"},{egy:"EGY1159",name:"Behera",id:18,nameAr:"البحيرة"},{egy:"EGY1175",name:"Beni-Suef",id:22,nameAr:"بني سويف"},{egy:"EGY1167",name:"Cairo",id:1,nameAr:"القاهرة"},{egy:"EGY1160",name:"Dakahlia",id:12,nameAr:"الدقهلية"},{egy:"EGY1177",name:"Damietta",id:11,nameAr:"دمياط"},{egy:"EGY1161",name:"Fayoum",id:23,nameAr:"الفيوم"},{egy:"EGY1162",name:"Gharbia",id:16,nameAr:"الغربية"},{egy:"EGY1164",name:"Giza",id:21,nameAr:"الجيزة"},{egy:"EGY1170",name:"Ismailia",id:19,nameAr:"الإسماعيلية"},{egy:"EGY1179",name:"Kafr-ElSheikh",id:15,nameAr:"كفر الشيخ"},{egy:"EGY1184",name:"Luxor",id:29,nameAr:"الأقصر"},{egy:"EGY1180",name:"Matrouh",id:33,nameAr:"مطروح"},{egy:"EGY1166",name:"Menia",id:24,nameAr:"المنيا"},{egy:"EGY1165",name:"Menoufia",id:17,nameAr:"المنوفية"},{egy:"EGY1169",name:"New Valley",id:32,nameAr:"الوادي الجديد"},{egy:"EGY1182",name:"North Sinai",id:34,nameAr:"شمال سيناء"},{egy:"EGY1176",name:"Port Said",id:3,nameAr:"بورسعيد"},{egy:"EGY1168",name:"Qalyoubia",id:14,nameAr:"القليوبية"},{egy:"EGY1181",name:"Qena",id:27,nameAr:"قنا"},{egy:"EGY1158",name:"Red Sea",id:31,nameAr:"البحر الأحمر"},{egy:"EGY1172",name:"Sharqia",id:13,nameAr:"الشرقية"},{egy:"EGY1183",name:"Sohag",id:26,nameAr:"سوهاج"},{egy:"EGY1178",name:"South Sinai",id:35,nameAr:"شمال سيناء"},{egy:"EGY1171",name:"Suez",id:4,nameAr:"السويس"}];t.exports.byId=function(e){return e=+e,n.find(function(t){return t.id===e})},t.exports.byEgy=function(e){return n.find(function(t){return t.egy===e})},t.exports.byName=function(e){return n.find(function(t){return t.name===e})},t.exports.governorates=n},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/i18n.js":[function(e,t,a){"use strict";function n(e){c=e}function r(e){return"ar"!==e}function s(){return c}function i(){return["en","ar"]}function l(e){return-1!==i().indexOf(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={en:{hello:"Hello"},ar:{hello:"مرحبا"}};a[c][e];var n=a[c][e]||"";return Object.keys(t).forEach(function(e){var a=new RegExp("{"+e+"}","g");n=n.replace(a,t[e])}),n}Object.defineProperty(a,"__esModule",{value:!0}),a.setLanguage=n,a.isLtr=r,a.getLanguage=s,a.getAvailableLanguages=i,a.isValidLanguage=l,a.t=o;var c="en"},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/is-numerical-overlay.js":[function(e,t,a){"use strict";function n(e){return e=e||[],!(0,r.find)(e,function(e){return isNaN(e.value)})}Object.defineProperty(a,"__esModule",{value:!0}),a.isNumerical=n;var r=e("lodash")},{lodash:"lodash"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/location.js":[function(e,t,a){"use strict";function n(e,t){var a=void 0,n=(0,r.get)(e,"district.district");return a=n&&"all"!==n.toLowerCase()?(0,s.byId)(n):(0,i.byId)((0,r.get)(e,"district.governorate")),a&&(a.display="ar"===t?(0,r.get)(a,"nameAr"):(0,r.get)(a,"name")),a}Object.defineProperty(a,"__esModule",{value:!0}),a.default=n;var r=e("object-path"),s=e("./districts"),i=e("./governorates")},{"./districts":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/districts.js","./governorates":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js","object-path":"object-path"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js":[function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(a,"__esModule",{value:!0}),a.getFeatureCollection=a.getProjectCentroids=a.hasDistrictData=a.DISTRICT=a.GOVERNORATE=void 0;var r=e("object-path"),s=e("@turf/centroid"),i=function(e){return e&&e.__esModule?e:{default:e}}(s),l=e("./governorates"),o=n(l),c=e("./districts"),u=n(c),m=e("../components/project-card"),p=a.GOVERNORATE="egy2",d=a.DISTRICT="districts",f=a.hasDistrictData=function(e){var t=(0,r.get)(e,"district.district",""),a=t&&"all"!==t.toLowerCase(),n=a&&u.ids.indexOf(t)>=0;return a&&!n&&console.log("No metadata for",t,"falling back to governorate"),n};a.getProjectCentroids=function(e,t){var a=[],n=(0,r.get)(t,d+".features"),s=(0,r.get)(t,p+".features");if(!n||!s||!e.length)return a;var l={};return e.forEach(function(e){(0,r.get)(e,"location",[]).forEach(function(t){var a=f(t),n=a?t.district.district:t.district.governorate;l[n]=l[n]||{isDistrict:a,projects:[]},l[n].projects.push(e)})}),Object.keys(l).forEach(function(e){var t=void 0,c=void 0;l[e].isDistrict?(t=u.byId(e),c=n.find(function(e){return e.properties.id===t.id})):(t=o.byId(e),c=s.find(function(e){return e.properties.admin_id===t.egy}));var p=(0,r.get)((0,i.default)(c),"geometry.coordinates");p&&l[e].projects.forEach(function(n){a.push({centroid:[p[1],p[0]],ontime:(0,m.isOntime)(n),region:t.name,name:n.name,id:n.id,isDistrict:l[e].isDistrict})})}),a},a.getFeatureCollection=function(e){return{type:"FeatureCollection",features:e.map(function(e){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[e.centroid[1],e.centroid[0]]}}})}}},{"../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","./districts":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/districts.js","./governorates":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js","@turf/centroid":"@turf/centroid","object-path":"object-path"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/scales.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.customScales=void 0;var n=e("d3-scale");a.customScales={"mapegypt.9rt4vqd5":(0,n.scaleQuantile)().domain([142,10700]).range(["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"])}},{"d3-scale":"d3-scale"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/serialize-csv.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e.map(function(e){var a=(0,b.default)(e,t);return!!a&&a.display}).filter(Boolean).join(", ")}function s(e,t){return _.concat(e.map(function(e){return[e.name,e.id,(0,h.isOntime)(e),r((0,f.get)(e,"location",[])),(0,f.get)(e,"budget",[]).reduce(function(e,t){return e+(0,f.get)(t,"fund.amount",0)},0),(0,f.get)(e,"number_served.number_served"),(0,f.get)(e,"categories",[]).map(function(e){return e[t]}).join(", "),e.description]}))}function i(e,t){return E.concat([[e.name,e.id,(0,h.isOntime)(e),r((0,f.get)(e,"location",[])),(0,f.get)(e,"budget",[]).reduce(function(e,t){return e+(0,f.get)(t,"fund.amount",0)},0),(0,f.get)(e,"number_served.number_served"),(0,f.get)(e,"category",[]).map(function(e){return e[t]}).join(", "),(0,f.get)(e,"budget",[]).map(function(e){return e.donor_name}).join(", "),e.project_link,(0,f.get)(e,"responsible_ministry."+t),e.local_manager,(0,f.get)(e,"sdg_indicator",[]).map(function(e){return e[t]||e.en}).join(", "),(0,f.get)(e,"sds_indicator",[]).map(function(e){return e[t]||e.en}).join(", "),e.description]])}function l(e){var t=Object.keys(e);return[t].concat([t.map(function(t){return e[t]})])}function o(e){return j.concat(e.map(function(e){return[e.name,e.value,e.link?v.default.baseUrl+"#/"+e.link:""]}))}function c(e){return A.concat(e.map(function(e){return[e.name,e.donor,e.value]}))}function u(e){return N.concat(e.map(function(e){return[e.name,e.planned_start_date,e.actual_start_date,e.planned_end_date]}))}function m(e,t){return w.concat(e.map(function(e){return[e.component,e.kpi,e.status[t],e.target,e.current,e.date]}))}function p(e){return k.concat(e.map(function(e){return[e.governorate,e.district]}))}function d(e){return e.map(function(e){return e.map(function(e){return"string"==typeof e?'"'+e+'"':e}).join(",")}).join("\n")}Object.defineProperty(a,"__esModule",{value:!0}),a.relatedProjects=s,a.project=i,a.summary=l,a.chartData=o,a.disbursement=c,a.ministryActiveProjects=u,a.kmiData=m,a.locations=p,a.serialize=d;var f=e("object-path"),h=e("../components/project-card"),g=e("./location"),b=n(g),y=e("../config"),v=n(y),_=[["name","id","status","location","budget","households","categories","description"]],E=[["name","id","status","location","budget","households","categories","donors","link","responsible ministry","local manager","sdg goals","sds pillars","objective"]],j=[["name","value","link"]],A=[["name","donor","value"]],N=[["name","planned_start_date","actual_start_date","planned_end_date"]],w=[["component","kpi","status","target","current","date"]],k=[["governorate","district"]]},{"../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../config":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/config.js","./location":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/location.js","object-path":"object-path"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js":[function(e,t,a){"use strict";t.exports=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/tooltips.js":[function(e,t,a){"use strict";function n(e){return(e.description?'<span class="tooltip__description">Description: '+e.description+"</span>":"")+(e.sources?'<span class="tooltip__sources">Sources: '+e.sources.join(", ")+"</span>":"")}Object.defineProperty(a,"__esModule",{value:!0}),a.indicatorTooltipContent=n},{}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/about.js":[function(e,t,a){"use strict";function n(e){return{meta:e.meta}}var r=e("react"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("object-path"),l=e("react-redux"),o=e("global"),c=s.default.createClass({displayName:"About",propTypes:{meta:s.default.PropTypes.object},render:function(){var e=(0,i.get)(o.window,"t.about."+this.props.meta.lang,{});return s.default.createElement("section",{className:"inpage"},s.default.createElement("header",{className:"inpage__header--alt"},s.default.createElement("div",{className:"inner"},s.default.createElement("div",{className:"inpage__headline"},s.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},e.title)))),s.default.createElement("div",{className:"inpage__body--alt"},s.default.createElement("div",{className:"inner"},s.default.createElement("section",null,(0,i.get)(e,"body",[]).map(function(e,t){var a=e.text?e.text:e,n=e.class?e.class:"";return s.default.createElement("p",{key:t,className:n},a)})))))}});t.exports=(0,l.connect)(n)(c)},{global:"global","object-path":"object-path",react:"react","react-redux":"react-redux"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/app.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}var s=e("react"),i=n(s),l=e("react-redux"),o=e("react-router"),c=e("lodash"),u=n(c),m=e("classnames"),p=n(m),d=e("global"),f=e("../utils/i18n"),h=e("../components/page-footer"),g=n(h),b=e("../components/page-header"),y=n(b),v=void 0;d.window&&d.window.location&&d.window.location.reload&&"function"==typeof d.window.location.reload&&(v=!0);var _=i.default.createClass({displayName:"App",propTypes:{routes:i.default.PropTypes.array,children:i.default.PropTypes.object,params:i.default.PropTypes.object,location:i.default.PropTypes.object,api:i.default.PropTypes.object,dispatch:i.default.PropTypes.func,meta:i.default.PropTypes.object},validateLanguage:function(e){(0,f.isValidLanguage)(e)?(0,f.setLanguage)(e):o.hashHistory.replace("/404")},updateLangClass:function(e){if((0,f.isValidLanguage)(e)){document.documentElement.setAttribute("lang",e),document.documentElement.classList.remove("lang--ltr","lang--rtl");var t=(0,f.isLtr)(e)?"lang--ltr":"lang--rtl";document.documentElement.classList.add(t)}},onWindowResize:function(){document.documentElement.clientWidth>=800&&document.documentElement.classList.remove("offcanvas-revealed")},componentWillMount:function(){this.validateLanguage(this.props.params.lang),this.updateLangClass(this.props.params.lang)},componentDidMount:function(){d.window.addEventListener("resize",u.default.throttle(this.onWindowResize,50))},componentWillReceiveProps:function(e){this.validateLanguage(e.params.lang),this.updateLangClass(e.params.lang),this.props.api.authenticated&&!e.api.authenticated&&v&&d.window.location.reload()},render:function(){var e=u.default.get(u.default.last(this.props.routes),"pageClass","");return i.default.createElement("div",{className:(0,p.default)("page",e)},i.default.createElement(y.default,{location:this.props.location,dispatch:this.props.dispatch,authenticated:this.props.api.authenticated,lang:this.props.meta.lang}),i.default.createElement("main",{className:"page__body",role:"main"},this.props.children),i.default.createElement(g.default,{lang:this.props.meta.lang}))}});t.exports=(0,l.connect)(r)(_)},{"../components/page-footer":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/page-footer.js","../components/page-header":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/page-header.js","../utils/i18n":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/i18n.js",classnames:"classnames",global:"global",lodash:"lodash",react:"react","react-redux":"react-redux","react-router":"react-router"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/category.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}var s=e("react"),i=n(s),l=e("react-redux"),o=e("object-path"),c=e("path"),u=n(c),m=e("../components/share"),p=n(m),d=e("../components/map"),f=n(d),h=e("../components/project-card"),g=n(h),b=e("../components/charts/horizontal-bar"),y=n(b),v=e("../components/print-btn"),_=n(v),E=e("../components/csv-btn"),j=n(E),A=e("../utils/format"),N=e("../utils/slugify"),w=n(N),k=e("../utils/map-utils"),x=e("global"),T=e("../utils/accessors"),P={left:150,right:20,top:10,bottom:50},C=i.default.createClass({displayName:"Category",propTypes:{params:i.default.PropTypes.object,location:i.default.PropTypes.object,api:i.default.PropTypes.object,meta:i.default.PropTypes.object},render:function(){var e=this,t=(0,o.get)(this.props,"api.projects",[]);if(0===t.length)return i.default.createElement("div",null);var a=this.props.meta.lang,n="/"+a,r={},s=t.map(function(e){var t=e.budget.reduce(function(e,t){return e+(0,o.get)(t,"fund.amount",0)},0);return(0,o.get)(e,"categories",[]).map(function(e){var a=e.en;return r[a]=e,{key:a,budget:t}})}).reduce(function(e,t){return e.concat(t)},[]),l={},c={};s.forEach(function(e){var t=e.key;l[t]=l[t]||0,l[t]+=1,c[t]=c[t]||0,c[t]+=e.budget});var m=Object.keys(l).map(function(e){return{name:(0,o.get)(r,[e,a]),link:u.default.resolve(n,"category",(0,w.default)(e)),value:l[e]}}).sort(function(e,t){return t.value>e.value?-1:1}),d=Object.keys(c).map(function(e){return{name:(0,o.get)(r,[e,a]),link:u.default.resolve(n,"category",(0,w.default)(e)),value:c[e]}}).sort(function(e,t){return t.value>e.value?-1:1}),h=this.props.params.name,b=void 0,v=t.filter(function(e){return(0,o.get)(e,"categories",[]).find(function(e){return(0,w.default)(e.en)===h&&(b=e[a],!0)})}),E=(0,k.getProjectCentroids)(v,this.props.api.geography),N=(0,k.getFeatureCollection)(E),C=v.map(function(e){return{name:(0,T.getProjectName)(e,a),link:u.default.resolve(n,"projects",e.id),value:e.budget.reduce(function(e,t){return e+t.fund.amount},0),project:e}}).sort(function(e,t){return t.value>e.value?-1:1}),S=C.map(function(e,t){return{name:e.name,link:e.link,value:g.default.percentComplete(e.project)}}),D=v.map(function(e){return e.budget}).reduce(function(e,t){return e.concat(t)},[]).reduce(function(e,t){return t.fund.amount+e},0),O={title:"Category Summary",data:{budget:D,projects_funded:v.length}},M=[{title:"Comparison of Number of Projects per Category",data:m},{title:"Comparison of Project Funding per Category (US dollars)",data:d},{title:"Category Funding for Projects (US dollars)",data:C},{title:"Category Percentage Complete By Project",data:S}],I=v.length<=1?" category--single":"",R=(0,o.get)(x.window.t,[this.props.meta.lang,"category_pages"],{});return i.default.createElement("section",{className:"inpage category"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("div",{className:"inpage__headline-actions"},i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement(j.default,{title:b,relatedProjects:v,summary:O,chartData:M,lang:a})),i.default.createElement("li",null,i.default.createElement(_.default,{lang:this.props.meta.lang})),i.default.createElement("li",null,i.default.createElement(p.default,{path:this.props.location.pathname,lang:this.props.meta.lang})))),i.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},b)),i.default.createElement("div",{className:"inpage__header-data"},i.default.createElement("ul",{className:"inpage-stats"},i.default.createElement("li",null," ",(0,A.currency)((0,A.shortTally)(D))," ",i.default.createElement("small",null,R.stat_one)),i.default.createElement("li",null," ",(0,A.tally)(v.length)," ",i.default.createElement("small",null,I?R.cat_stats_funded_1:R.cat_stats_funded_2," ",R.cat_stats_funded_3)))))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement(f.default,{markers:E,location:N,lang:a}),i.default.createElement("section",{className:"inpage__section"},i.default.createElement("h1",{className:"section__title heading--small"},R.comparison_title),i.default.createElement("div",{className:"chart-content chart__inline--labels"},i.default.createElement("h3",null,R.comparison_chart_title1),i.default.createElement(y.default,{lang:this.props.meta.lang,data:m,yFormat:A.shortText,margin:P,activeProject:b})),i.default.createElement("div",{className:"chart-content chart__inline--labels"},i.default.createElement("h3",null,R.comparison_chart_title2),i.default.createElement(y.default,{lang:this.props.meta.lang,data:d,margin:P,yFormat:A.shortText,xFormat:A.shortTally,activeProject:b}))),i.default.createElement("section",{className:"inpage__section"},i.default.createElement("h1",{className:"section__title heading--small"},b," ",R.projects_parttitle),i.default.createElement("div",{className:"chart-content chart__inline--labels"},!I&&i.default.createElement("h3",null,R.category_funding_chart_title),!I&&i.default.createElement(y.default,{lang:this.props.meta.lang,data:C,margin:P,xFormat:A.shortTally,yFormat:A.shortText})),i.default.createElement("div",{className:"chart-content chart__inline--labels"},!I&&i.default.createElement("h3",null,R.category_complete_chart_title),!I&&i.default.createElement(y.default,{lang:this.props.meta.lang,data:S,margin:P,yTitle:"",xFormat:A.pct,yFormat:A.shortText})),i.default.createElement("ul",{className:"projects-list"},v.map(function(t){return i.default.createElement("li",{key:t.id,className:"projects-list__card"},i.default.createElement(g.default,{lang:e.props.meta.lang,project:t}))}))))))}});t.exports=(0,l.connect)(r)(C)},{"../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/csv-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/print-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../components/share":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/share.js","../utils/accessors":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/accessors.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js",global:"global","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-redux":"react-redux"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/contact.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("react"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=r.default.createClass({displayName:"Contact",render:function(){return r.default.createElement("div",null,r.default.createElement("h1",null,"Contact"))}});a.default=s},{react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/donor.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}
var s=e("react"),i=n(s),l=e("path"),o=n(l),c=e("react-redux"),u=e("object-path"),m=e("../components/csv-btn"),p=n(m),d=e("../components/share"),f=n(d),h=e("../components/map"),g=n(h),b=e("../components/project-card"),y=n(b),v=e("../components/charts/horizontal-bar"),_=n(v),E=e("../components/print-btn"),j=n(E),A=e("../utils/format"),N=e("../utils/slugify"),w=n(N),k=e("../utils/map-utils"),x=e("global"),T=i.default.createClass({displayName:"Donor",propTypes:{params:i.default.PropTypes.object,location:i.default.PropTypes.object,api:i.default.PropTypes.object,meta:i.default.PropTypes.object},render:function(){var e=(0,u.get)(this.props,"api.projects",[]);if(0===e.length)return i.default.createElement("div",null);var t=this.props.meta.lang,a="/"+t,n=this.props.params.name,r=void 0,s=e.filter(function(e){return(0,u.get)(e,"budget",[]).some(function(e){console.log(e);var t=(0,w.default)(e.donor_name);return t===n&&(r=e),t===n})}),l="ar"===t?r.donor_name_ar:r.donor_name,c=(0,k.getProjectCentroids)(s,this.props.api.geography),m=(0,k.getFeatureCollection)(c),d=s.map(function(e){return e.budget}).reduce(function(e,t){return e.concat(t)},[]),h=s.map(function(e){return{name:e.name,link:o.default.resolve(a,"projects",e.id),value:e.budget.reduce(function(e,t){return e+t.fund.amount},0)}}).sort(function(e,t){return t.value>e.value?-1:1}),b=d.reduce(function(e,t){return t.fund.amount+e},0),v={title:"Donor Summary",data:{budget:b,projects_funded:s.length}},E=[{title:"Donor Project Funding",data:h}],N=s.length<=1?" funding--single":"",T=(0,u.get)(x.window.t,[t,"donor_pages"],{});return i.default.createElement("section",{className:"inpage funding"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("div",{className:"inpage__headline-actions"},i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement(p.default,{title:l,relatedProjects:s,summary:v,chartData:E,lang:t})),i.default.createElement("li",null,i.default.createElement(j.default,{lang:t})),i.default.createElement("li",null,i.default.createElement(f.default,{path:this.props.location.pathname,lang:t})))),i.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},l)))),i.default.createElement("div",{className:"inpage__body funding"+N},i.default.createElement("div",{className:"inner"},i.default.createElement("section",{className:"inpage__section inpage__section--overview"},i.default.createElement("h1",{className:"visually-hidden"},"Project Overview"),i.default.createElement("div",{className:"inpage__col--map"},i.default.createElement(g.default,{markers:c,location:m,lang:t})),i.default.createElement("div",{className:"inpage__col--content"},i.default.createElement("ul",{className:"inpage-stats"},i.default.createElement("li",null," ",(0,A.currency)((0,A.shortTally)(b))," ",i.default.createElement("small",null,T.donor_stats_funds)),i.default.createElement("li",null," ",(0,A.tally)(s.length)," ",i.default.createElement("small",null,N?T.donor_stats_funded_1:T.donor_stats_funded_2," ",T.donor_stats_funded_3))),!N&&i.default.createElement("div",{className:"inpage__overview-chart"},i.default.createElement("div",{className:"chart-content"},i.default.createElement(_.default,{lang:t,data:h,margin:{left:130,right:50,top:10,bottom:50},xFormat:A.shortTally,yFormat:A.shortText})))))),i.default.createElement("section",{className:"inpage__section--bleed inpage__section--print"},i.default.createElement("div",{className:"inner"},i.default.createElement("h1",{className:"section__title heading--small"},T.funded_title),i.default.createElement("ul",{className:"projects-list"},s.map(function(e){return i.default.createElement("li",{key:e.id,className:"projects-list__card"},i.default.createElement(y.default,{lang:t,project:e}))}))))))}});t.exports=(0,c.connect)(r)(T)},{"../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/csv-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/print-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../components/share":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/share.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js",global:"global","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-redux":"react-redux"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/elements.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("react"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),s=r.default.createClass({displayName:"Elements",render:function(){return r.default.createElement("div",{className:"row row--centered"},r.default.createElement("h1",{className:"heading--xlarge heading--deco"},"This is a headline deco"),r.default.createElement("h2",{className:"heading--large heading--deco"},"This is a headline deco"),r.default.createElement("h3",{className:"heading--medium heading--deco"},"This is a headline deco"),r.default.createElement("h4",{className:"heading--small"},"This is a headline"),r.default.createElement("hr",null),r.default.createElement("p",null,r.default.createElement("a",{href:"#",className:"link--primary"},r.default.createElement("span",null,"Primary link"))),r.default.createElement("p",null,r.default.createElement("a",{href:"#",className:"link--secondary"},"secondary link")),r.default.createElement("p",null,r.default.createElement("a",{href:"#",className:"link--deco"},"Deco link")),r.default.createElement("p",null,r.default.createElement("a",{href:"#",className:"link--deco link--deco-active"},"Deco link active")),r.default.createElement("hr",null),r.default.createElement("p",null,r.default.createElement("button",{className:"button button--base"},"Base")),r.default.createElement("p",null,r.default.createElement("button",{className:"button button--primary"},"Primary")),r.default.createElement("p",null,r.default.createElement("button",{className:"button button--primary drop__toggle--caret"},"Primary")),r.default.createElement("p",null,r.default.createElement("button",{className:"button button--base-bounded"},"Base bounded")),r.default.createElement("p",null,r.default.createElement("button",{className:"button button--primary-bounded"},"Primary bounded")),r.default.createElement("hr",null),r.default.createElement("div",{className:"button-group button-group--horizontal"},r.default.createElement("button",{className:"button button--primary"},"Primary"),r.default.createElement("button",{className:"button button--primary-bounded"},"Primary bounded")),r.default.createElement("hr",null),r.default.createElement("div",{className:"filters"},r.default.createElement("label",{className:"heading--label"},"Sort By:"),r.default.createElement("button",{className:"button button--medium button--secondary drop__toggle--caret"},"Category")),r.default.createElement("hr",null),r.default.createElement("div",{style:{width:"20rem"}},r.default.createElement("article",{className:"card project--ontime"},r.default.createElement("div",{className:"card__contents"},r.default.createElement("header",{className:"card__header"},r.default.createElement("p",{className:"card__subtitle"},r.default.createElement("a",{className:"link--secondary",href:""},"Category")),r.default.createElement("h1",{className:"card__title"},r.default.createElement("a",{className:"link--deco",href:""},"Project Name")),r.default.createElement("ul",{className:"card-cmplt"},r.default.createElement("li",null,r.default.createElement("span",null,"60% cmplt")))),r.default.createElement("div",{className:"card__body"},r.default.createElement("dl",{className:"card-meta"},r.default.createElement("dt",{className:"card-meta__label"},"Status"),r.default.createElement("dd",{className:"card-meta__value card-meta__value--status"},"On time"),r.default.createElement("dt",{className:"card-meta__label"},"Location"),r.default.createElement("dd",{className:"card-meta__value card-meta__value--location"},"Location 1, Location 2")),r.default.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris et dui gravida, posuere diam id, congue augue. Pellentesque nec purus ex. Vestibulum ante."),r.default.createElement("ul",{className:"card-stats"},r.default.createElement("li",null,"$50M ",r.default.createElement("small",null,"funding")),r.default.createElement("li",null,"20,000 ",r.default.createElement("small",null,"households"))))))),r.default.createElement("hr",null),r.default.createElement("fieldset",{className:"form__fieldset"},r.default.createElement("div",{className:"form__group"},r.default.createElement("label",{className:"form__label"},"Checkbox options (custom)"),r.default.createElement("label",{className:"form__option form__option--custom-checkbox"},r.default.createElement("input",{type:"checkbox",name:"form-checkbox",id:"form-checkbox-1",value:"Checkbox 1"}),r.default.createElement("span",{className:"form__option__text"},"Checkbox 1"),r.default.createElement("span",{className:"form__option__ui"})),r.default.createElement("label",{className:"form__option form__option--custom-checkbox"},r.default.createElement("input",{type:"checkbox",name:"form-checkbox",value:"form-checkbox-2"}),r.default.createElement("span",{className:"form__option__text"},"Checkbox 2"),r.default.createElement("span",{className:"form__option__ui"})),r.default.createElement("label",{className:"form__option form__option--custom-checkbox"},r.default.createElement("input",{type:"checkbox",name:"form-checkbox",value:"form-checkbox-3"}),r.default.createElement("span",{className:"form__option__text"},"Checkbox 3"),r.default.createElement("span",{className:"form__option__ui"})))),r.default.createElement("fieldset",{className:"form__fieldset"},r.default.createElement("legend",{className:"form__legend"},"Inputs"),r.default.createElement("div",{className:"form__group"},r.default.createElement("label",{className:"form__label",htmlFor:"form-input-5"},"Input group"),r.default.createElement("div",{className:"form__input-group"},r.default.createElement("input",{type:"text",className:"form__control form__control--medium",id:"form-input-5",placeholder:"This is a placeholder"}),r.default.createElement("span",{className:"form__input-group-button"},r.default.createElement("button",{type:"submit",className:"button button--primary button--text-hidden button--medium button--search-icon"},r.default.createElement("span",null,"Button"))))),r.default.createElement("div",{className:"form__group"},r.default.createElement("label",{className:"form__label",htmlFor:"form-input-6"},"Input group"),r.default.createElement("div",{className:"form__input-group"},r.default.createElement("input",{type:"text",className:"form__control form__control--medium",id:"form-input-6",placeholder:"Search location"}),r.default.createElement("span",{className:"form__input-group-button"},r.default.createElement("button",{type:"submit",className:"button button--primary button--text-hidden button--medium button--newsletter-icon"},r.default.createElement("span",null,"Button")))))),r.default.createElement("div",{className:"filters"},r.default.createElement("label",{className:"heading--label"},"Filters"),r.default.createElement("button",{className:"button button--small button--filter-tag"},"Category"),r.default.createElement("button",{className:"button button--small button--filter-tag"},"Project Type"),r.default.createElement("button",{className:"button button--xsmall button--filter-clear"},"Clear Filters")))}});a.default=s},{react:"react"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/home.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}var s=e("react"),i=n(s),l=e("react-redux"),o=e("react-router"),c=e("lodash"),u=n(c),m=e("../utils/format"),p=e("object-path"),d=e("path"),f=n(d),h=e("global"),g=e("../components/map"),b=n(g),y=e("../components/charts/horizontal-bar"),v=n(y),_=e("../components/charts/pie"),E=n(_),j=e("../components/project-card"),A=e("../utils/map-utils"),N=e("../utils/slugify"),w=n(N),k={left:200,right:10,top:10,bottom:50},x=i.default.createClass({displayName:"Home",propTypes:{api:i.default.PropTypes.object,meta:i.default.PropTypes.object},render:function(){var e=this.props.api.projects,t=this.props.meta.lang,a={},n={ontime:0,delayed:0,extended:0};e.forEach(function(e){(0,p.get)(e,"categories",[]).forEach(function(e){a[e[t]]=a[e[t]]+1||1});var r=(0,j.isOntime)(e);null!==r&&("delayed"===r?n.delayed+=1:"extended"===r?n.extended+=1:n.ontime+=1)});var r=(0,A.getProjectCentroids)(e,this.props.api.geography),s="/"+this.props.meta.lang,l=Object.keys(a).map(function(e){return{name:e,link:f.default.resolve(s,"category",(0,w.default)(e)),value:a[e]}}).sort(function(e,t){return t.value>e.value?-1:1}),c=e.length,d={},g=0,y=[],_=0;e.forEach(function(e){var t=e.budget.filter(function(e){return"MoALR / Government of Egypt contribution"!==e.donor_name&&"Government of Egypt"!==e.donor_name&&"Project Beneficiaries"!==e.donor_name});t.length>1&&(t.forEach(function(e){return y.push(e.donor_name)}),_+=1),e.budget.forEach(function(e){d[e.donor_name]="",g+=e.fund.amount})}),g=(0,m.shorterTally)(g),d=Object.keys(d).length;var N=u.default.uniq(y).sort(function(e,t){return e.length<t.length}),x=[{name:"On Time",value:n.ontime},{name:"Delayed",value:n.delayed},{name:"Extended",value:n.extended}],T=(0,p.get)(h.window.t,[t,"homepage"],{});return i.default.createElement("div",null,i.default.createElement("section",{className:"inpage home"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("p",{className:"inpage__subtitle--alt"},T.subhead),i.default.createElement("h1",{className:"inpage__title heading--deco heading--xxlarge"},T.title),i.default.createElement("div",{className:"inpage__introduction"},i.default.createElement("p",{className:"inpage__description"},T.description),i.default.createElement(o.Link,{to:s+"/about",type:"button",className:"button button--primary button--large"},T.more)))),i.default.createElement("div",{className:"inpage__body"},i.default.createElement("div",{className:"inner"},i.default.createElement(b.default,{markers:r,lang:t}),i.default.createElement("section",{className:"inpage__section"},i.default.createElement("div",{className:"overview-home"},i.default.createElement("h2",{className:"section__title"},T.stats_overview),i.default.createElement("p",{className:"section__description"},T.overview_description),i.default.createElement("ul",{className:"category-stats"},i.default.createElement("li",{className:"category-stats__item"},i.default.createElement("h3",{className:"inpage-stats heading--deco-small"},c,i.default.createElement("small",null,T.total_projects))),i.default.createElement("li",{className:"category-stats__item"},i.default.createElement("h3",{className:"inpage-stats heading--deco-small"},"$",g,i.default.createElement("small",null,T.in_funding))),i.default.createElement("li",{className:"category-stats__item"},i.default.createElement("h3",{className:"inpage-stats heading--deco-small"},d,i.default.createElement("small",null,T.total_donors))),i.default.createElement("li",{className:"category-stats__item"},i.default.createElement("h3",{className:"inpage-stats heading--deco-small"},_,i.default.createElement("small",null,T.donor_collaborations)),i.default.createElement("ul",{className:"inpage-stats__collaborators"},N.map(function(e,t){return i.default.createElement("li",{key:t},e)}))))),i.default.createElement("div",{className:"overview-home-charts"},i.default.createElement("div",{className:"chart-content chart__inline--labels"},i.default.createElement("h3",null,T.chart_title_one),i.default.createElement(v.default,{lang:t,data:l,margin:k,yFormat:m.shortText,xFormat:m.tally,yTitle:""})),i.default.createElement("div",{className:"chart-content chart__inline--labels chart-content--status"},i.default.createElement("h3",null,T.chart_title_two),i.default.createElement(E.default,{data:x}),i.default.createElement("div",{className:"status-key"},i.default.createElement("p",{className:"status-key__label status-ontime"},T.chart_two_label),i.default.createElement("p",{className:"status-key__label status-delayed"},T.chart_two_label2),i.default.createElement("p",{className:"status-key__label status-extended"},T.chart_two_label3)))),i.default.createElement("div",{className:"section__footer"},i.default.createElement(o.Link,{to:s+"/projects",type:"button",className:"button button--primary button--large"},T.all_projects_btn)))),i.default.createElement("section",{className:"inpage__section--bleed"},i.default.createElement("h2",{className:"section__title"},T.other_indicators_title),i.default.createElement("p",{className:"section__description"},T.other_indicators_description),i.default.createElement("ul",{className:"section__footer"},i.default.createElement("li",null,i.default.createElement(o.Link,{to:"/"+t+"/projects_sds",type:"button",className:"button button--primary button--large"},T.sds_button)),i.default.createElement("li",null,i.default.createElement(o.Link,{to:"/"+t+"/projects_sdg",type:"button",className:"button button--primary button--large"},T.sdg_button)),i.default.createElement("li",null,i.default.createElement(o.Link,{to:"/"+t+"/projects_other",type:"button",className:"button button--primary button--large"},T.other_button)))))))}});t.exports=(0,l.connect)(r)(x)},{"../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/charts/pie":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/pie.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js",global:"global",lodash:"lodash","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-redux":"react-redux","react-router":"react-router"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/ministry.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}var s=e("react"),i=n(s),l=e("path"),o=n(l),c=e("react-redux"),u=e("object-path"),m=e("../components/csv-btn"),p=n(m),d=e("../components/share"),f=n(d),h=e("../components/print-btn"),g=n(h),b=e("../components/map"),y=n(b),v=e("../components/project-card"),_=n(v),E=e("../components/charts/horizontal-bar"),j=n(E),A=e("../components/project-timeline"),N=n(A),w=e("../utils/format"),k=e("../utils/slugify"),x=n(k),T=e("../utils/map-utils"),P=e("../utils/accessors"),C=i.default.createClass({displayName:"Ministry",propTypes:{params:i.default.PropTypes.object,location:i.default.PropTypes.object,api:i.default.PropTypes.object,meta:i.default.PropTypes.object},render:function(){var e=(0,u.get)(this.props,"api.projects",[]);if(0===e.length)return i.default.createElement("div",null);var t=this.props.meta.lang,a="/"+t,n=this.props.params.name,r=e.filter(function(e){return(0,u.get)(e,"responsible_ministry.en")&&n===(0,x.default)(e.responsible_ministry.en)}),s=(0,u.get)(r,[0,"responsible_ministry",t]),l=(0,T.getProjectCentroids)(r,this.props.api.geography),c=(0,T.getFeatureCollection)(l),m=r.map(function(e){return{name:(0,P.getProjectName)(e,t),link:o.default.resolve(a,"projects",e.id),value:e.number_served.number_served}}).sort(function(e,t){return t.value>e.value?-1:1}),d=r.length<=1?" funding--single":"",h=r.filter(function(e){return e.actual_end_date}),b=h.length,v={title:"Ministry Summary",data:{active_projects:b,total_projects:r.length}},E=[{title:"Number Served Per Project",data:m}];return i.default.createElement("section",{className:"inpage owner"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("div",{className:"inpage__headline-actions"},i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement(p.default,{title:s,relatedProjects:r,summary:v,ministryActiveProjects:h,chartData:E,lang:t})),i.default.createElement("li",null,i.default.createElement(g.default,{lang:t})),i.default.createElement("li",null,i.default.createElement(f.default,{path:this.props.location.pathname,lang:t})))),i.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},s)),r.map(function(e,a){if(!e.actual_end_date)return i.default.createElement("div",{key:"timeline-"+a},i.default.createElement("h5",null,(0,P.getProjectName)(e)),i.default.createElement(N.default,{project:e,lang:t}))}))),i.default.createElement("div",{className:"inpage__body funding"+d},i.default.createElement("div",{className:"inner"},i.default.createElement("section",{className:"inpage__section inpage__section--overview"},i.default.createElement("h1",{className:"visually-hidden"},"Project Overview"),i.default.createElement("div",{className:"inpage__col--map"},i.default.createElement(y.default,{markers:l,location:c,lang:t})),i.default.createElement("div",{className:"inpage__col--content"},i.default.createElement("ul",{className:"inpage-stats"},i.default.createElement("li",null," ",b," ",i.default.createElement("small",null,"Active ",b>1?"Projects":"Project")),i.default.createElement("li",null," ",r.length," ",i.default.createElement("small",null,"Total ",r.length>1?"Projects":"Project"))),i.default.createElement("div",{className:"inpage__overview-chart"},m.length>1&&i.default.createElement("div",{className:"chart-content"},i.default.createElement("h3",null,"Number Served"),i.default.createElement(j.default,{lang:t,data:m,margin:{left:140,right:50,top:10,bottom:50},xFormat:w.shortTally,yFormat:w.shortText})))))),i.default.createElement("section",{className:"inpage__section--bleed inpage__section--print"},i.default.createElement("div",{className:"inner"},i.default.createElement("h1",{className:"section__title heading--small"},"Projects Overseen"),i.default.createElement("ul",{className:"projects-list"},r.map(function(e){return i.default.createElement("li",{key:e.id,className:"projects-list__card"},i.default.createElement(_.default,{lang:t,project:e}))}))))))}});t.exports=(0,c.connect)(r)(C)},{"../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/csv-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/print-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../components/project-timeline":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-timeline.js","../components/share":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/share.js","../utils/accessors":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/accessors.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-redux":"react-redux"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/owner.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}var s=e("react"),i=n(s),l=e("path"),o=n(l),c=e("react-redux"),u=e("object-path"),m=e("../components/csv-btn"),p=n(m),d=e("../components/share"),f=n(d),h=e("../components/print-btn"),g=n(h),b=e("../components/map"),y=n(b),v=e("../components/project-card"),_=n(v),E=e("../components/charts/horizontal-bar"),j=n(E),A=e("../utils/format"),N=e("../utils/map-utils"),w=e("../utils/slugify"),k=n(w),x=e("../utils/accessors"),T=i.default.createClass({displayName:"Owner",propTypes:{params:i.default.PropTypes.object,location:i.default.PropTypes.object,api:i.default.PropTypes.object,meta:i.default.PropTypes.object},render:function(){var e=this,t=(0,u.get)(this.props,"api.projects",[]);if(0===t.length)return i.default.createElement("div",null);var a="/"+this.props.meta.lang,n=this.props.params.name,r=t.filter(function(e){return e.local_manager&&n===(0,k.default)(e.local_manager)}),s=this.props.meta.lang,l="ar"===s?(0,u.get)(r,"0.local_manager_ar"):(0,u.get)(r,"0.local_manager"),c=(0,N.getProjectCentroids)(r,this.props.api.geography),m=(0,N.getFeatureCollection)(c),d=r.map(function(e){return{name:(0,x.getProjectName)(e,s),link:o.default.resolve(a,"projects",e.id),value:e.number_served.number_served}}).sort(function(e,t){return t.value>e.value?-1:1}),h=r.length<=1?" funding--single":"",b=r.filter(function(e){return e.actual_end_date}).length,v={title:"Owner Summary",data:{active_projects:b,total_projects:r.length}},E=[{title:"Number Served Per Project",data:d}];return i.default.createElement("section",{className:"inpage owner"},i.default.createElement("header",{className:"inpage__header"},i.default.createElement("div",{className:"inner"},i.default.createElement("div",{className:"inpage__headline"},i.default.createElement("div",{className:"inpage__headline-actions"},i.default.createElement("ul",null,i.default.createElement("li",null,i.default.createElement(p.default,{title:l,relatedProjects:r,summary:v,chartData:E,lang:s})),i.default.createElement("li",null,i.default.createElement(g.default,{lang:this.props.meta.lang})),i.default.createElement("li",null,i.default.createElement(f.default,{path:this.props.location.pathname,lang:this.props.meta.lang})))),i.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},l)))),i.default.createElement("div",{className:"inpage__body funding"+h},i.default.createElement("div",{className:"inner"},i.default.createElement("section",{className:"inpage__section inpage__section--overview"},i.default.createElement("h1",{className:"visually-hidden"},"Project Overview"),i.default.createElement("div",{className:"inpage__col--map"},i.default.createElement(y.default,{markers:c,location:m,lang:s})),i.default.createElement("div",{className:"inpage__col--content"},i.default.createElement("ul",{className:"inpage-stats"},i.default.createElement("li",null," ",b," ",i.default.createElement("small",null,"Active ",b>1?"Projects":"Project")),i.default.createElement("li",null," ",r.length," ",i.default.createElement("small",null,"Total ",r.length>1?"Projects":"Project"))),!h&&i.default.createElement("div",{className:"inpage__overview-chart"},i.default.createElement("div",{className:"chart-content"},i.default.createElement("h3",null,"Number Served"),i.default.createElement(j.default,{lang:this.props.meta.lang,data:d,margin:{left:300,right:50,top:10,bottom:50},xFormat:A.shortTally,yFormat:A.shortText})))))),i.default.createElement("section",{className:"inpage__section--bleed inpage__section--print"},i.default.createElement("div",{className:"inner"},i.default.createElement("h1",{className:"section__title heading--small"},"Projects Contributed To"),i.default.createElement("ul",{className:"projects-list"},r.map(function(t){return i.default.createElement("li",{key:t.id,className:"projects-list__card"},i.default.createElement(_.default,{lang:e.props.meta.lang,project:t}))}))))))}});t.exports=(0,c.connect)(r)(T)},{"../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/csv-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/print-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../components/share":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/share.js","../utils/accessors":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/accessors.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-redux":"react-redux"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/project-browse.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};return e.forEach(function(e){var n=t?(0,c.get)(e,t,"--"):e;a[n]=a[n]||0,a[n]+=1}),a}function s(e){return{api:e.api,meta:e.meta}}var i=e("react"),l=n(i),o=e("react-redux"),c=e("object-path"),u=e("lodash"),m=e("react-tooltip"),p=n(m),d=e("../actions"),f=e("../components/map"),h=n(f),g=e("../components/print-btn"),b=n(g),y=e("../components/csv-btn"),v=n(y),_=e("../components/project-list"),E=n(_),j=e("../components/auto-suggest"),A=n(j),N=e("../components/project-card"),w=e("../utils/governorates"),k=e("../utils/map-utils"),x=e("../utils/slugify"),T=n(x),P=e("../utils/tooltips"),C=e("../components/charts/horizontal-bar"),S=n(C),D=e("global"),O=["sds","sdg","other"],M={left:75,right:20,top:10,bottom:50},I={display:"Project Status",items:[{display:"On Time",filter:N.isOntime},{display:"Delayed",filter:function(e){return!(0,N.isOntime)(e)}}]},R={display:"Category",items:function(e,t){var a=r(e.reduce(function(e,t){return e.concat(t.categories)},[]),t);return Object.keys(a).map(function(e){return{display:e+" ("+a[e]+")",filter:function(a){return Array.isArray(a.categories)&&a.categories.map(function(e){return e[t]}).indexOf(e)>=0}}})}},L={
display:"Donor",items:function(e){var t=r(e.reduce(function(e,t){return e.concat(t.budget)},[]),"donor_name");return Object.keys(t).map(function(e){return{display:e+" ("+t[e]+")",filter:function(t){return Array.isArray(t.budget)&&t.budget.find(function(t){return t.donor_name===e})}}})}},F={display:"SDS Goals",items:function(e,t){var a=r(e.reduce(function(e,t){return e.concat(t.sds_indicators)},[]),t);return Object.keys(a).sort().map(function(e){return{display:e+" ("+a[e]+")",filter:function(a){return Array.isArray(a.sds_indicators)&&a.sds_indicators.map(function(e){return e[t]}).indexOf(e)>=0}}})}},G={display:"SDG Goals",items:function(e,t){var a=r(e.reduce(function(e,t){return e.concat(t.sdg_indicators)},[]),t);return Object.keys(a).map(function(e){return e}).sort().map(function(e){return{display:e+" ("+a[e]+")",filter:function(a){return Array.isArray(a.sdg_indicators)&&a.sdg_indicators.map(function(e){return e[t]}).indexOf(e)>=0}}})}},z=[I,R,L,F,G],B=new RegExp(/[0-9]+/),q=l.default.createClass({displayName:"ProjectBrowse",getInitialState:function(){return{modal:!1,activeModal:null,indicatorToggle:!1,listView:!1,activeIndicatorType:null,activeIndicatorTheme:null,selectedIndicators:[],activeIndicators:[],activeIndicator:null,activeGovernorate:null,selectedProjectFilters:[],activeProjectFilters:[],projectsHidden:!1}},propTypes:{api:l.default.PropTypes.object,meta:l.default.PropTypes.object,location:l.default.PropTypes.object,dispatch:l.default.PropTypes.func,route:l.default.PropTypes.object},componentWillMount:function(){var e=(0,c.get)(this.props,"route.modal");e&&this.setState({modal:!0,activeModal:"indicators",activeIndicatorType:e})},componentDidUpdate:function(){p.default.rebuild()},componentWillUpdate:function(e,t){var a=t.activeIndicator;if(a&&a!==this.state.activeIndicator){var n=this.props.api.indicators.find(function(e){return e.name===a});n&&n.id&&this.props.dispatch((0,d.getIndicator)(n.id))}t.modal?document.documentElement.classList.add("disable--page-scroll"):document.documentElement.classList.remove("disable--page-scroll")},zoomToGovernorate:function(e,t){var a=t.suggestion;this.setState({activeGovernorate:a})},openIndicatorDropdown:function(){this.setState({indicatorToggle:!0})},closeIndicatorDropdown:function(e){var t=this;setTimeout(function(){t.setState({indicatorToggle:!1})},200)},openIndicatorSelector:function(e){e=e.split(" ")[0].toUpperCase(),this.setState({modal:!0,activeModal:"indicators",indicatorToggle:!1,activeIndicatorType:e,selectedIndicators:this.state.activeIndicators.length?(0,u.clone)(this.state.activeIndicators):[]})},cancelIndicators:function(){this.setState({modal:!1,activeIndicatorType:null,activeIndicatorTheme:null,selectedIndicators:this.state.activeIndicators.length?(0,u.clone)(this.state.activeIndicators):[]})},confirmIndicators:function(){var e=this.state.selectedIndicators.length?(0,u.clone)(this.state.selectedIndicators):[];this.setState({modal:!1,activeIndicatorType:null,activeIndicatorTheme:null,activeIndicators:e,activeIndicator:e.length?e[0]:null})},selectIndicatorSubType:function(e){this.setState({activeIndicatorTheme:e})},setActiveIndicator:function(e){this.setState({activeIndicator:e})},removeActiveIndicator:function(e){var t=this.state,a=t.activeIndicator,n=t.activeIndicators,r=(0,u.without)(n,e),s=a!==e?a:r.length?r[0]:null;this.setState({activeIndicators:r,activeIndicator:s})},openProjectSelector:function(){this.setState({modal:!0,indicatorToggle:!1,activeModal:"projects",selectedProjectFilters:this.state.activeProjectFilters.length?(0,u.clone)(this.state.activeProjectFilters):[]})},toggleSelectedIndicator:function(e){var t=this.state.selectedIndicators;t=t.indexOf(e)>=-0?(0,u.without)(t,e):t.concat([e]),this.setState({selectedIndicators:t})},cancelFilters:function(){this.setState({modal:!1,selectedProjectFilters:this.state.activeProjectFilters.length?(0,u.clone)(this.state.activeProjectFilters):[]})},confirmFilters:function(){this.setState({modal:!1,activeProjectFilters:this.state.selectedProjectFilters.length?(0,u.clone)(this.state.selectedProjectFilters):[]})},resetProjectFilters:function(){this.setState({selectedProjectFilters:[]})},clearProjectFilters:function(){this.setState({selectedProjectFilters:[],activeProjectFilters:[]})},toggleSelectedFilter:function(e){var t=this.state.selectedProjectFilters,a=t.map(function(e){return e.display}).indexOf(e.display);a>=0?t.splice(a,1):t=t.concat([e]),this.setState({selectedProjectFilters:t})},removeActiveFilter:function(e){var t=this.state.activeProjectFilters,a=t.map(function(e){return e.display}).indexOf(e.display);t.splice(a,1),this.setState({activeProjectFilters:t})},toggleProjects:function(){this.setState({projectsHidden:!this.state.projectsHidden,selectedProjectFilters:[],activeProjectFilters:[]})},closeModal:function(){this.setState({modal:!1,activeModal:null})},selectListView:function(){this.setState({listView:!0})},selectMapView:function(){this.setState({listView:!1})},createOverlay:function(e){if(!e)return null;var t=e.id,a=e.data,n={id:t,category:a.category,units:a.units};if("string"==typeof a.data)return n.mapid=a.data,n;var r=!a.hasOwnProperty("data_geography")||a.data_geography?k.GOVERNORATE:k.DISTRICT,s=(0,c.get)(this.props.api,"geography."+r);return s?(n.values=a.data.map(function(e){return{id:e.sub_nat_id,value:e.data_value}}).filter(function(e){return void 0!==e.value}),n.regions=s,n):null},renderIndicatorSelector:function(){var e=this,t=this.state,a=t.selectedIndicators,n=t.activeIndicatorTheme,r=t.activeIndicatorType,s=this.props.meta.lang,i=r.toLowerCase(),o=(0,c.get)(this.props.api,"indicators",[]).filter(function(e){return e.theme.length&&e.theme.find(function(e){return e.type===i})}),u={};o.forEach(function(e){e.theme.forEach(function(t){if(t.type===i){var a=t[s];u[a]=u[a]||[],u[a].push(e)}})});var m=Object.keys(u).sort(function(e,t){var a=e.match(B);if(!a)return e>t?-1:1;var n=t.match(B);return n?Number(a[0])>Number(n[0])?1:-1:void 0}),p=n||m[0],d=(0,c.get)(u,p,[]);return l.default.createElement("section",{className:"modal modal--large"},l.default.createElement("div",{className:"modal__inner modal__indicators"},l.default.createElement("button",{className:"modal__button-dismiss",title:"close",onClick:this.closeModal}),l.default.createElement("h1",{className:"inpage__title heading--deco heading--medium"},"Add ",this.state.activeIndicatorType.toUpperCase()," Indicators"),l.default.createElement("div",{className:"modal__instructions"},l.default.createElement("p",null,"Add and compare development indicators listed below.")),l.default.createElement("div",{className:"indicators--selected"},l.default.createElement("span",{className:"heading--label"},"Selected Indicators: "),a.map(function(t){return l.default.createElement("span",{className:"button--small button--tag",key:t,onClick:function(){return e.toggleSelectedIndicator(t)}},t)})),l.default.createElement("div",{className:"indicators__container"},l.default.createElement("div",{className:"indicators"},l.default.createElement("ul",null,m.length&&m.map(function(t){return l.default.createElement("li",{key:t,className:"list__item"+(t===p?" list__item--active":""),onClick:function(){return e.selectIndicatorSubType(t)}},t)}))),l.default.createElement("div",{className:"indicators--options"},d.length&&d.map(function(t){var n=t.name,r="subtypes-"+(0,T.default)(n);return l.default.createElement("label",{key:n,className:"form__option form__option--custom-checkbox"+(a.indexOf(n)>=0?" form__option--custom--checkbox--selected":"")},l.default.createElement("input",{type:"checkbox",name:"form-checkbox",checked:a.indexOf(n)>=0,id:r,value:n,onChange:function(){return e.toggleSelectedIndicator(n)}}),l.default.createElement("span",{className:"form__option__text"},n),l.default.createElement("span",{className:"form__option__ui"}),l.default.createElement("span",{className:"form__option__info","data-tip":(0,P.indicatorTooltipContent)(t)},"?"))}))),l.default.createElement("ul",{className:"button--list"},l.default.createElement("li",null,l.default.createElement("button",{onClick:this.confirmIndicators,type:"button",className:"button button--medium button--primary"},"Apply")),l.default.createElement("li",null,l.default.createElement("button",{onClick:this.cancelIndicators,type:"button",className:"button button--medium button--primary-bounded"},"Cancel")))))},renderActiveIndicators:function(e,t){var a=this;return l.default.createElement("div",{className:"indicator__overlay"},l.default.createElement("h1",{className:"heading--label"},"Selected Indicator Overlays"),l.default.createElement("ul",{className:"indicator__overlay--list"},t.map(function(t){return l.default.createElement("li",{key:t,onClick:function(){return!0},className:"indicator__overlay--item"+(e===t?" indicator__overlay--selected":"")},l.default.createElement("button",{className:"indicator-toggle",onClick:function(){return a.setActiveIndicator(t)}},l.default.createElement("span",null,"toggle visibility")),l.default.createElement("span",{className:"indicator-layer-name"},t),l.default.createElement("span",{className:"form__option__info","data-tip":(0,P.indicatorTooltipContent)(a.props.api.indicators.find(function(e){return e.name===t}))},"?"),l.default.createElement("button",{className:"indicator-close",onClick:function(){return a.removeActiveIndicator(t)}},l.default.createElement("span",null,"close indicator")))})))},renderProjectSelector:function(){var e=this,t=this.props.api.projects,a=this.props.meta.lang,n=this.state.selectedProjectFilters;return l.default.createElement("section",{className:"modal modal--large"},l.default.createElement("div",{className:"modal__inner modal__projects"},l.default.createElement("h1",{className:"inpage__title heading--deco heading--medium"},"Add and Filter Projects"),l.default.createElement("div",{className:"modal__filters"},l.default.createElement("div",{className:"modal__filters--defaults"},l.default.createElement("label",{className:"form__option form__option--custom-checkbox"},l.default.createElement("input",{checked:!this.state.projectsHidden,type:"checkbox",name:"form-checkbox",id:"form-checkbox-1",onChange:this.toggleProjects,value:"All projects"}),l.default.createElement("span",{className:"form__option__text"},"All Projects"),l.default.createElement("span",{className:"form__option__ui"})),l.default.createElement("a",{onClick:this.resetProjectFilters,className:"link--secondary"},"reset filters")),z.map(function(r){return l.default.createElement("fieldset",{key:r.display,className:"form__fieldset"},l.default.createElement("label",{className:"form__label"},r.display),l.default.createElement("div",{className:"form__group"},(Array.isArray(r.items)?r.items:r.items(t,a)).map(function(t){return l.default.createElement("label",{key:t.display,className:"form__option form__option--custom-checkbox "+(e.state.projectsHidden?"disabled":"")},l.default.createElement("input",{checked:!!n.find(function(e){return e.display===t.display}),type:"checkbox",name:"form-checkbox",value:t.display,onChange:function(){return e.toggleSelectedFilter(t)}}),l.default.createElement("span",{className:"form__option__text"},t.display),l.default.createElement("span",{className:"form__option__ui"}))})))}),l.default.createElement("ul",{className:"button--list"},l.default.createElement("li",null,l.default.createElement("button",{onClick:this.confirmFilters,type:"button",className:"button button--medium button--primary"},"Apply")),l.default.createElement("li",null,l.default.createElement("button",{onClick:this.cancelFilters,type:"button",className:"button button--medium button--primary-bounded"},"Cancel")))),l.default.createElement("button",{className:"modal__button-dismiss",title:"close",onClick:this.closeModal})))},render:function(){var e=this,t=void 0,a=(0,c.get)(this.state,"activeGovernorate.egy");if(a){t=(0,c.get)(this.props.api,"geography."+k.GOVERNORATE+".features",[]).find(function(e){return(0,c.get)(e,"properties.admin_id")===a})}var n=this.state,r=n.activeProjectFilters,s=n.activeIndicators,i=n.activeIndicator,o=[],u=[];this.state.projectsHidden||(o=this.props.api.projects,r.length&&r.forEach(function(e){o=o.filter(e.filter)}),u=(0,k.getProjectCentroids)(o,this.props.api.geography));var m=void 0,d=void 0,f=void 0;if(i){var g=this.props.api.indicators.find(function(e){return e.name===i}),y=(0,c.get)(this.props.api,"indicatorDetail."+g.id);y&&(m=this.createOverlay(y)),y&&Array.isArray(y.data.data)&&(d=y.data.data.map(function(e){return{name:e.sub_nat_id,value:isNaN(e.data_value)?e.data_value:+e.data_value}}),f=[{title:i,data:d}])}var _=this.props.meta.lang,j=(0,c.get)(D.window.t,[_,"projects_indicators"],{});return l.default.createElement("section",{className:"inpage project-browse"},l.default.createElement("header",{className:"inpage__header"},l.default.createElement("div",{className:"inner"},l.default.createElement("div",{className:"inpage__headline"},l.default.createElement("div",{className:"inpage__headline-actions"},l.default.createElement("ul",null,l.default.createElement("li",null,l.default.createElement(v.default,{title:"All Projects",relatedProjects:o||this.props.api.projects,chartData:f,lang:_})),l.default.createElement("li",null,l.default.createElement(b.default,{lang:_})))),l.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},j.projects_title),l.default.createElement("p",{className:"inpage__description"},j.projects_description)),l.default.createElement("div",{className:"inpage__actions"},l.default.createElement("div",{className:"actions-filters"},l.default.createElement("ul",{className:"button--list"},l.default.createElement("li",{onClick:this.openProjectSelector},l.default.createElement("button",{type:"button",className:"button button--medium button--primary"},j.filter_projects_btn)),l.default.createElement("li",null,l.default.createElement("span",{className:"dropdown__container",onBlur:this.closeIndicatorDropdown},l.default.createElement("button",{type:"button",onClick:this.openIndicatorDropdown,className:"button button--medium button--secondary drop__toggle--caret"},j.indicator_overlays_btn),this.state.indicatorToggle&&l.default.createElement("ul",{className:"drop__menu drop--align-left button--secondary"},O.map(function(t){return t=j[t+"_dropdown"],l.default.createElement("li",{key:t,onClick:function(){return e.openIndicatorSelector(t)},className:"drop__menu-item"},t)}))))),r.length?l.default.createElement("div",{className:"filters"},l.default.createElement("label",{className:"heading--label"},"Filters"),r.map(function(t){return l.default.createElement("button",{onClick:function(){return e.removeActiveFilter(t)},key:t.display,className:"button button--small button--tag"},t.display)}),l.default.createElement("button",{onClick:this.clearProjectFilters,className:"button button--xsmall button--tag-unbounded"},"Clear Filters")):null),l.default.createElement("div",{className:"actions-toggle"},l.default.createElement("div",{className:"button-group button-group--horizontal button--toggle"},l.default.createElement("button",{onClick:this.selectMapView,className:this.state.listView?"button button--primary-bounded":"button button--primary"},j.map_toggle_btn),l.default.createElement("button",{onClick:this.selectListView,className:this.state.listView?"button button--primary":"button button--primary-bounded"},j.list_toggle_btn)))))),l.default.createElement("div",{className:"map__actions "+(this.state.listView?"hidden":"")},l.default.createElement("div",{className:"inner"},l.default.createElement("div",{className:"map__search-input"},l.default.createElement("div",{className:"autosuggest"},l.default.createElement(A.default,{suggestions:w.governorates,getDisplayName:function(e){return e.name},placeholder:j.search_text,onSelect:this.zoomToGovernorate})),l.default.createElement("span",{className:"form__input-group-button"},l.default.createElement("button",{type:"submit",className:"button button--primary button--text-hidden button--medium button--search-icon"},l.default.createElement("span",null,"Button")))))),this.state.listView?l.default.createElement("div",null,d&&l.default.createElement("div",{className:"inpage__body"},l.default.createElement("div",{className:"inner indicator-list"},l.default.createElement("section",{className:"inpage__section"},l.default.createElement("div",{className:"section__header"},l.default.createElement("h1",{className:"section__title"},"Indicators"),l.default.createElement("div",{className:"indicator-list-container"},s.length&&this.renderActiveIndicators(i,s),l.default.createElement(S.default,{data:d,margin:M,yTitle:"",lang:_})))))),l.default.createElement(E.default,{projects:o,meta:this.props.meta,lang:this.props.meta.lang})):l.default.createElement("div",{className:"map__outer"},l.default.createElement(h.default,{location:t,markers:u,overlay:m,lang:this.props.meta.lang}),s.length?this.renderActiveIndicators(i,s):null),this.state.modal&&"projects"===this.state.activeModal&&this.renderProjectSelector(),this.state.modal&&"indicators"===this.state.activeModal&&this.renderIndicatorSelector(),l.default.createElement(p.default,{html:!0,delayHide:500,effect:"solid"}))}});t.exports=(0,o.connect)(s)(q)},{"../actions":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js","../components/auto-suggest":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/auto-suggest.js","../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/csv-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/print-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../components/project-list":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-list.js","../utils/governorates":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/governorates.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js","../utils/tooltips":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/tooltips.js",global:"global",lodash:"lodash","object-path":"object-path",react:"react","react-redux":"react-redux","react-tooltip":"react-tooltip"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/project.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return l.default.resolve(e,t,(0,g.default)(a))}function s(e){return{api:e.api,meta:e.meta}}var i=e("path"),l=n(i),o=e("react"),c=n(o),u=e("react-router"),m=e("react-redux"),p=e("object-path"),d=e("lodash"),f=e("../actions"),h=e("../utils/slugify"),g=n(h),b=e("../utils/date"),y=e("../utils/format"),v=e("../utils/auth"),_=e("../utils/map-utils"),E=e("../utils/location"),j=n(E),A=e("../utils/accessors"),N=e("global"),w=e("../components/map"),k=n(w),x=e("../components/share"),T=n(x),P=e("../components/project-card"),C=n(P),S=e("../components/project-timeline"),D=n(S),O=e("../components/charts/horizontal-bar"),M=n(O),I=e("../components/print-btn"),R=n(I),L=e("../components/csv-btn"),F=n(L),G={left:150,right:20,top:10,bottom:50},z=c.default.createClass({displayName:"Project",propTypes:{params:c.default.PropTypes.object,dispatch:c.default.PropTypes.func,location:c.default.PropTypes.object,api:c.default.PropTypes.object,meta:c.default.PropTypes.object,lang:c.default.PropTypes.string},getInitialState:function(){return{authenticated:(0,v.hasValidToken)()}},componentWillMount:function(){(0,v.hasValidToken)()&&this.setState({authenticated:!0}),this.props.dispatch((0,f.getProject)(this.props.params.id))},componentWillReceiveProps:function(e){!e.api.authenticated||this.props.api.authenticated||this.state.authenticated?e.params.id!==this.props.params.id&&this.props.dispatch((0,f.getProject)(e.params.id)):(this.props.dispatch((0,f.getProject)(this.props.params.id)),this.setState({authenticated:!0}))},render:function(){var e=this.props.api.authenticated,t=(0,p.get)(this.props.api,["projectDetail",this.props.params.id]);if(!t)return c.default.createElement("div",null);var a=t.data;a.id=t.id;var n=this.props.meta.lang,s="/"+n,i=C.default.isOntime(a),o=(0,b.formatDate)(t.updated_at,n)||"",m=(0,p.get)(a,"budget",[]).reduce(function(e,t){return e+(0,p.get)(t,"fund.amount",0)},0),f={loan:0,grant:0,"local contribution":0};(0,p.get)(a,"disbursed",[]).forEach(function(e){f[e.type.en.toLowerCase()]+=e.fund.amount});var h=(0,p.get)(this.props.api,"projects",[]),v=(0,p.get)(a,"sds_indicator").join(","),E=h.filter(function(e){if(t.id===e.id)return!1;for(var a=0;a<e.sds_indicators.length;++a)if(v.indexOf(e.sds_indicators[a])>=0)return!0;return!1}),w=(0,_.getProjectCentroids)([a],this.props.api.geography),x=(0,_.getFeatureCollection)(w),P=h.map(function(e){return{name:(0,A.getProjectName)(e,n),value:(0,p.get)(e,"budget",[]).reduce(function(e,t){return e+(0,p.get)(t,"fund.amount",0)},0),link:l.default.resolve(s,"projects",e.id),project:e}}).sort(function(e,t){return t.value>e.value?-1:1}),S=P.map(function(e){return{name:e.name,link:e.link,value:C.default.percentComplete(e.project)}}),O=P.map(function(e){return{name:e.name,link:e.link,value:+(0,p.get)(e.project,"number_served.number_served",0)}}),I=(0,p.get)(a,"budget",[]).map(function(e){return{name:(0,A.getDonorName)(e,n),link:r(s,"donor",e.donor_name),value:e.fund.amount}}).sort(function(e,t){return t.value>e.value?-1:1}),L=(0,p.get)(a,"disbursed",[]).map(function(e){return{name:(0,b.parseProjectDate)(e.date),donor:e.donor_name,type:e.type[n],value:e.fund.amount}}).sort(function(e,t){return e.name>t.name?1:-1}).map(function(e,t){return{name:e.donor+" - "+(0,b.formatDate)(e.name,n)+" ("+e.type+")",value:e.value}}),z=(0,p.get)(N.window.t,[n,"project_pages"],{}),B=[{title:"Funding By Donor (US Dollars)",data:I},{title:"Funding By Project",data:P},{title:"Percentage Complete",data:S},{title:"Beneficiaries Reached",data:O}],q="ar"===n,U=q?a.name_ar:a.name,Y=q?a.local_manager_ar:a.local_manager,K=q?a.description_ar:a.description,H=q?a.number_served.number_served_unit_ar:a.number_served.number_served_unit;return c.default.createElement("section",{className:"inpage"},c.default.createElement("header",{className:"inpage__header"},c.default.createElement("div",{className:"inner"},c.default.createElement("div",{className:"inpage__headline"},c.default.createElement("div",{className:"inpage__headline-actions"},c.default.createElement("ul",null,c.default.createElement("li",null,c.default.createElement(F.default,{title:a.name,relatedProjects:E,project:a,chartData:B,disbursement:L,kmiData:a.kmi,lang:n})),c.default.createElement("li",null,c.default.createElement(R.default,{lang:n})),c.default.createElement("li",null,c.default.createElement(T.default,{path:this.props.location.pathname,lang:n})))),c.default.createElement("dl",{className:"inpage-meta project--"+i},c.default.createElement("dt",{className:"inpage-meta__label visually-hidden"},"Type"),"closed"!==i?c.default.createElement("dd",{className:"inpage-meta__value inpage-meta__value--type"},a.status[n]):"",c.default.createElement("dt",{className:"inpage-meta__label visually-hidden"}),c.default.createElement("dd",{className:"inpage-meta__value inpage-meta__value--status"},z["status_"+i]),c.default.createElement("dt",{className:"inpage-meta__label"},z.last_update_title,": "),c.default.createElement("dd",{className:"inpage-meta__value"}," ",o)),c.default.createElement("h1",{className:"inpage__title heading--deco heading--large"},U)),a.contract_date&&c.default.createElement("dl",{className:"date-contract"},c.default.createElement("dt",{className:"timeline__headline heading-alt"},z.contract_date+":"),c.default.createElement("dd",null,""+(0,b.formatDate)(a.contract_date))),c.default.createElement(D.default,{project:a,lang:n}),c.default.createElement("div",{className:"tags"},c.default.createElement("div",{className:"tags__group"},c.default.createElement("p",{className:"tags__label"},z.categories_title,":"),c.default.createElement("div",{className:"inpage__subtitles"},(0,p.get)(a,"category",[]).map(function(e){return c.default.createElement("span",{key:e.en,className:"inpage__subtitle"},c.default.createElement(u.Link,{to:r(s,"category",e.en),className:"link--secondary",href:""},e[n])," ")}))),c.default.createElement("div",{className:"tags__group"},c.default.createElement("p",{className:"tags__label"},z.donors_title,":"),c.default.createElement("div",{className:"inpage__subtitles"},I.map(function(e){return c.default.createElement("span",{key:e.name,className:"inpage__subtitle"},c.default.createElement(u.Link,{to:e.link,className:"link--secondary",href:""},e.name)," ")})))))),c.default.createElement("div",{className:"inpage__body"},c.default.createElement("div",{className:"inner"},c.default.createElement("section",{className:"inpage__section inpage__section--overview"},c.default.createElement("h1",{className:"visually-hidden"},"Project Overview"),c.default.createElement("div",{className:"inpage__col--map"},c.default.createElement(k.default,{markers:w,location:x,lang:n})),c.default.createElement("div",{className:"inpage__col--content"},c.default.createElement("ul",{className:"inpage-stats"},c.default.createElement("li",{className:"num__internal--large"},(0,y.currency)((0,y.shortTally)(m)),c.default.createElement("small",null,z.funding_title),c.default.createElement("ul",{className:"num__internal"},c.default.createElement("li",null,(0,y.currency)((0,y.shortTally)(f.loan))," ",z.funding_loans_title),c.default.createElement("li",null,(0,y.currency)((0,y.shortTally)(f.grant))," ",z.funding_grants_title),c.default.createElement("li",null,(0,y.currency)((0,y.shortTally)(f["local contribution"]))," ",z.funding_local_title))),c.default.createElement("li",{className:"num__internal--large"},(0,y.tally)(a.number_served.number_served)," ",c.default.createElement("small",null,H))),c.default.createElement("div",{className:"inpage__overview-links"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.objective_title),c.default.createElement("ul",null,c.default.createElement("li",null,K)),a.location&&c.default.createElement("div",{className:"overview-item"},c.default.createElement("h1",{className:"overview-item__title heading-alt"},z.location_title),c.default.createElement("div",{className:"link-list"},(0,p.get)(a,"location",[]).map(function(e,t){var r=(0,j.default)(e,n);if(r){var s=r.display;return c.default.createElement("span",{key:r.id},c.default.createElement("span",null,s||"--",t===a.location.length-1?"":", "))}}))),a.project_link&&c.default.createElement("div",{className:"overview-item"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.project_link),c.default.createElement("ul",{className:"link-list"},c.default.createElement("li",null,c.default.createElement("a",{href:a.project_link,className:"link--primary"},c.default.createElement("span",null,z.view_documentation_title))))),a.responsible_ministry&&c.default.createElement("div",{className:"overview-item"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.responsible_ministry_title),c.default.createElement("ul",{className:"link-list"},c.default.createElement("li",null,c.default.createElement("a",{href:"#/"+n+"/ministry/"+(0,g.default)(a.responsible_ministry.en),className:"link--primary"},c.default.createElement("span",null,a.responsible_ministry[n]))))),Y&&c.default.createElement("div",{className:"overview-item"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.local_manager_title),c.default.createElement("ul",{className:"link-list"},c.default.createElement("li",null,c.default.createElement("a",{href:"#/"+n+"/owner/"+(0,g.default)(a.local_manager),className:"link--primary"},c.default.createElement("span",null,Y))))),a.kmi&&c.default.createElement("div",{className:"overview-item--alt"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.kmi_components),c.default.createElement("ul",{className:"link-list"},(0,d.uniq)((0,p.get)(a,"kmi",[]).map(function(e){return e.component.trim()})).map(function(e){return c.default.createElement("li",{key:e},c.default.createElement("span",null,e))}))),a.sdg_indicator&&c.default.createElement("div",{className:"overview-item--alt"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.sdg_goals_title),c.default.createElement("ul",{className:"link-list"},(0,p.get)(a,"sdg_indicator",[]).map(function(e){return c.default.createElement("li",{key:e.en},c.default.createElement("span",null,e[n]))}))),a.sds_indicator&&c.default.createElement("div",{className:"overview-item--alt"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.sds_pillars_title),c.default.createElement("ul",{className:"link-list"},(0,p.get)(a,"sds_indicator",[]).map(function(e){return c.default.createElement("li",{key:e.en},c.default.createElement("span",null,e[n]))}))),a.recommendations&&c.default.createElement("div",{className:"overview-item--alt"},c.default.createElement("h2",{className:"overview-item__title heading-alt"},z.recommendations),c.default.createElement("p",null,q?a.recommendations_ar:a.recommendations))))),c.default.createElement("section",{className:"inpage__section inpage__section--charts"},c.default.createElement("div",{className:"overview-charts"},c.default.createElement("div",{className:"chart-content chart__inline--labels"+(e?"":" chart__block")},c.default.createElement("h3",null,z.funding_by_donor_title),c.default.createElement(M.default,{lang:n,data:I,margin:G,yTitle:"",xFormat:y.shortTally})),e&&L.length?c.default.createElement("div",{className:"chart-content chart__inline--labels"},c.default.createElement("h3",null,"Disbursement"),c.default.createElement(M.default,{data:L,margin:G,yTitle:"",xFormat:y.shortTally,lang:n})):null)),Array.isArray(a.kmi)&&a.kmi.length&&c.default.createElement("section",{className:"inpage__section inpage__section--indicators"},c.default.createElement("h1",{className:"section__title heading--small"},z.monitoring_indicators_title),c.default.createElement("table",{className:"inpage__table"},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",{className:"row-name"},z.component_title),c.default.createElement("th",{className:"row-kpi"},z.kpi_title),c.default.createElement("th",{className:"row-status"},z.status_title),c.default.createElement("th",{className:"row-target"},z.target_title),c.default.createElement("th",{className:"row-progress"},z.rate_title),c.default.createElement("th",{className:"row-date"},z.date_title))),c.default.createElement("tbody",null,a.kmi.map(function(e){var t=(0,g.default)(e.status.en);return c.default.createElement("tr",{key:e.kpi},c.default.createElement("td",{className:"cell-name"},e.component),c.default.createElement("td",null,e.kpi),c.default.createElement("td",{className:"project--"+t},c.default.createElement("p",{className:"activity-name"},e.status[n])),c.default.createElement("td",null,(0,y.tally)(e.target)),c.default.createElement("td",null,(0,y.tally)(e.current)),c.default.createElement("td",null,(0,b.formatSimpleDate)((0,b.parseProjectDate)(e.date))))})))),c.default.createElement("section",{className:"inpage__section inpage__section--comparison"},c.default.createElement("h1",{className:"section__title heading--small"},z.project_comparison_title),c.default.createElement("div",{className:"chart-content chart__inline--labels"
},c.default.createElement("h3",null,z.comparison_chart_title1),c.default.createElement(M.default,{lang:n,data:P,margin:G,yTitle:"",xFormat:y.shortTally,yFormat:y.shortText,activeProject:U})),c.default.createElement("div",{className:"chart-content chart__inline--labels"},c.default.createElement("h3",null,z.comparison_chart_title2),c.default.createElement(M.default,{lang:n,data:S,margin:G,yTitle:"",xFormat:y.pct,yFormat:y.shortText,activeProject:U})),e?c.default.createElement("div",{className:"chart-content chart__inline--labels"},c.default.createElement("h3",null,z.comparision_chart_title3),c.default.createElement(M.default,{lang:n,data:O,margin:G,yTitle:"",xFormat:y.tally,yFormat:y.shortText,activeProject:U})):null)),c.default.createElement("section",{className:"inpage__section--bleed"},c.default.createElement("div",{className:"inner"},c.default.createElement("h1",{className:"section__title heading--small"},z.related_sds_projects_title),c.default.createElement("ul",{className:"projects-list"},E.map(function(e){return c.default.createElement("li",{key:e.id,className:"projects-list__card"},c.default.createElement(C.default,{lang:n,project:e}))}))))))}});t.exports=(0,m.connect)(s)(z)},{"../actions":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/actions/index.js","../components/charts/horizontal-bar":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/charts/horizontal-bar.js","../components/csv-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/csv-btn.js","../components/map":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/map.js","../components/print-btn":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/print-btn.js","../components/project-card":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-card.js","../components/project-timeline":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/project-timeline.js","../components/share":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/share.js","../utils/accessors":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/accessors.js","../utils/auth":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/auth.js","../utils/date":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/date.js","../utils/format":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/format.js","../utils/location":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/location.js","../utils/map-utils":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/map-utils.js","../utils/slugify":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/utils/slugify.js",global:"global",lodash:"lodash","object-path":"object-path",path:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js",react:"react","react-redux":"react-redux","react-router":"react-router"}],"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/views/uhoh.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{api:e.api,meta:e.meta}}var s=e("react"),i=n(s),l=e("react-redux"),o=e("react-router"),c=e("../components/page-footer"),u=n(c),m=e("../components/page-header"),p=n(m),d=i.default.createClass({displayName:"UhOh",propTypes:{location:i.default.PropTypes.object,api:i.default.PropTypes.object,dispatch:i.default.PropTypes.func,meta:i.default.PropTypes.object},render:function(){return i.default.createElement("div",null,i.default.createElement(p.default,{location:this.props.location,dispatch:this.props.dispatch,authenticated:this.props.api.authenticated,lang:this.props.meta.lang||"en"}),i.default.createElement("div",{className:"error"},i.default.createElement("div",{className:"error-content"},i.default.createElement("h1",{className:"heading--xxlarge heading--deco"},"Page Not Found"),i.default.createElement("p",null,"We were not able to find the page you're looking for."),i.default.createElement(o.Link,{to:"/",className:"button button--primary button--large"},"Take Me Home"))),i.default.createElement(u.default,null))}});t.exports=(0,l.connect)(r)(d)},{"../components/page-footer":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/page-footer.js","../components/page-header":"/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/components/page-header.js",react:"react","react-redux":"react-redux","react-router":"react-router"}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/path-browserify/index.js":[function(e,t,a){(function(e){function t(e,t){for(var a=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),a++):a&&(e.splice(n,1),a--)}if(t)for(;a--;a)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var a=[],n=0;n<e.length;n++)t(e[n],n,e)&&a.push(e[n]);return a}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return r.exec(e).slice(1)};a.resolve=function(){for(var a="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var i=s>=0?arguments[s]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(a=i+"/"+a,r="/"===i.charAt(0))}return a=t(n(a.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+a||"."},a.normalize=function(e){var r=a.isAbsolute(e),s="/"===i(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},a.isAbsolute=function(e){return"/"===e.charAt(0)},a.join=function(){var e=Array.prototype.slice.call(arguments,0);return a.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},a.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var a=e.length-1;a>=0&&""===e[a];a--);return t>a?[]:e.slice(t,a-t+1)}e=a.resolve(e).substr(1),t=a.resolve(t).substr(1);for(var r=n(e.split("/")),s=n(t.split("/")),i=Math.min(r.length,s.length),l=i,o=0;o<i;o++)if(r[o]!==s[o]){l=o;break}for(var c=[],o=l;o<r.length;o++)c.push("..");return c=c.concat(s.slice(l)),c.join("/")},a.sep="/",a.delimiter=":",a.dirname=function(e){var t=s(e),a=t[0],n=t[1];return a||n?(n&&(n=n.substr(0,n.length-1)),a+n):"."},a.basename=function(e,t){var a=s(e)[2];return t&&a.substr(-1*t.length)===t&&(a=a.substr(0,a.length-t.length)),a},a.extname=function(e){return s(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,a){return e.substr(t,a)}:function(e,t,a){return t<0&&(t=e.length+t),e.substr(t,a)}}).call(this,e("_process"))},{_process:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/process/browser.js"}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/process/browser.js":[function(e,t,a){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(m===setTimeout)return setTimeout(e,0);if((m===n||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch(t){try{return m.call(null,e,0)}catch(t){return m.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function l(){g&&f&&(g=!1,f.length?h=f.concat(h):b=-1,h.length&&o())}function o(){if(!g){var e=s(l);g=!0;for(var t=h.length;t;){for(f=h,h=[];++b<t;)f&&f[b].run();b=-1,t=h.length}f=null,g=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var m,p,d=t.exports={};!function(){try{m="function"==typeof setTimeout?setTimeout:n}catch(e){m=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,h=[],g=!1,b=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];h.push(new c(e,t)),1!==h.length||g||s(o)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/punycode/punycode.js":[function(e,t,a){(function(e){!function(n){function r(e){throw new RangeError(O[e])}function s(e,t){for(var a=e.length,n=[];a--;)n[a]=t(e[a]);return n}function i(e,t){var a=e.split("@"),n="";return a.length>1&&(n=a[0]+"@",e=a[1]),e=e.replace(D,"."),n+s(e.split("."),t).join(".")}function l(e){for(var t,a,n=[],r=0,s=e.length;r<s;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<s?(a=e.charCodeAt(r++),56320==(64512&a)?n.push(((1023&t)<<10)+(1023&a)+65536):(n.push(t),r--)):n.push(t);return n}function o(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:j}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function m(e,t,a){var n=0;for(e=a?I(e/k):e>>1,e+=I(e/t);e>M*N>>1;n+=j)e=I(e/M);return I(n+(M+1)*e/(e+w))}function p(e){var t,a,n,s,i,l,u,p,d,f,h=[],g=e.length,b=0,y=T,v=x;for(a=e.lastIndexOf(P),a<0&&(a=0),n=0;n<a;++n)e.charCodeAt(n)>=128&&r("not-basic"),h.push(e.charCodeAt(n));for(s=a>0?a+1:0;s<g;){for(i=b,l=1,u=j;s>=g&&r("invalid-input"),p=c(e.charCodeAt(s++)),(p>=j||p>I((E-b)/l))&&r("overflow"),b+=p*l,d=u<=v?A:u>=v+N?N:u-v,!(p<d);u+=j)f=j-d,l>I(E/f)&&r("overflow"),l*=f;t=h.length+1,v=m(b-i,t,0==i),I(b/t)>E-y&&r("overflow"),y+=I(b/t),b%=t,h.splice(b++,0,y)}return o(h)}function d(e){var t,a,n,s,i,o,c,p,d,f,h,g,b,y,v,_=[];for(e=l(e),g=e.length,t=T,a=0,i=x,o=0;o<g;++o)(h=e[o])<128&&_.push(R(h));for(n=s=_.length,s&&_.push(P);n<g;){for(c=E,o=0;o<g;++o)(h=e[o])>=t&&h<c&&(c=h);for(b=n+1,c-t>I((E-a)/b)&&r("overflow"),a+=(c-t)*b,t=c,o=0;o<g;++o)if(h=e[o],h<t&&++a>E&&r("overflow"),h==t){for(p=a,d=j;f=d<=i?A:d>=i+N?N:d-i,!(p<f);d+=j)v=p-f,y=j-f,_.push(R(u(f+v%y,0))),p=I(v/y);_.push(R(u(p,0))),i=m(a,b,n==s),a=0,++n}++a,++t}return _.join("")}function f(e){return i(e,function(e){return C.test(e)?p(e.slice(4).toLowerCase()):e})}function h(e){return i(e,function(e){return S.test(e)?"xn--"+d(e):e})}var g="object"==typeof a&&a&&!a.nodeType&&a,b="object"==typeof t&&t&&!t.nodeType&&t,y="object"==typeof e&&e;y.global!==y&&y.window!==y&&y.self!==y||(n=y);var v,_,E=2147483647,j=36,A=1,N=26,w=38,k=700,x=72,T=128,P="-",C=/^xn--/,S=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=j-A,I=Math.floor,R=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:l,encode:o},decode:p,encode:d,toASCII:h,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return v});else if(g&&b)if(t.exports==g)b.exports=v;else for(_ in v)v.hasOwnProperty(_)&&(g[_]=v[_]);else n.punycode=v}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/querystring-es3/decode.js":[function(e,t,a){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,a,s){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;e=e.split(t);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var o=e.length;l>0&&o>l&&(o=l);for(var c=0;c<o;++c){var u,m,p,d,f=e[c].replace(/\+/g,"%20"),h=f.indexOf(a);h>=0?(u=f.substr(0,h),m=f.substr(h+1)):(u=f,m=""),p=decodeURIComponent(u),d=decodeURIComponent(m),n(i,p)?r(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/querystring-es3/encode.js":[function(e,t,a){"use strict";function n(e,t){if(e.map)return e.map(t);for(var a=[],n=0;n<e.length;n++)a.push(t(e[n],n));return a}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,l){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),function(i){var l=encodeURIComponent(r(i))+a;return s(e[i])?n(e[i],function(e){return l+encodeURIComponent(r(e))}).join(t):l+encodeURIComponent(r(e[i]))}).join(t):l?encodeURIComponent(r(l))+a+encodeURIComponent(r(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/querystring-es3/index.js":[function(e,t,a){"use strict";a.decode=a.parse=e("./decode"),a.encode=a.stringify=e("./encode")},{"./decode":"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/querystring-es3/decode.js","./encode":"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/querystring-es3/encode.js"}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/url/url.js":[function(e,t,a){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,a){if(e&&c.isObject(e)&&e instanceof n)return e;var r=new n;return r.parse(e,t,a),r}function s(e){return c.isString(e)&&(e=r(e)),e instanceof n?e.format():n.prototype.format.call(e)}function i(e,t){return r(e,!1,!0).resolve(t)}function l(e,t){return e?r(e,!1,!0).resolveObject(t):t}var o=e("punycode"),c=e("./util");a.parse=r,a.resolve=i,a.resolveObject=l,a.format=s,a.Url=n;var u=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(d),h=["'"].concat(f),g=["%","/","?",";","#"].concat(h),b=["/","?","#"],y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=e("querystring");n.prototype.parse=function(e,t,a){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),r=-1!==n&&n<e.indexOf("#")?"?":"#",s=e.split(r);s[0]=s[0].replace(/\\/g,"/"),e=s.join(r);var i=e;if(i=i.trim(),!a&&1===e.split("#").length){var l=p.exec(i);if(l)return this.path=i,this.href=i,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var m=u.exec(i);if(m){m=m[0];var d=m.toLowerCase();this.protocol=d,i=i.substr(m.length)}if(a||m||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===i.substr(0,2);!f||m&&v[m]||(i=i.substr(2),this.slashes=!0)}if(!v[m]&&(f||m&&!_[m])){for(var j=-1,A=0;A<b.length;A++){var N=i.indexOf(b[A]);-1!==N&&(-1===j||N<j)&&(j=N)}var w,k;k=-1===j?i.lastIndexOf("@"):i.lastIndexOf("@",j),-1!==k&&(w=i.slice(0,k),i=i.slice(k+1),this.auth=decodeURIComponent(w)),j=-1;for(var A=0;A<g.length;A++){var N=i.indexOf(g[A]);-1!==N&&(-1===j||N<j)&&(j=N)}-1===j&&(j=i.length),this.host=i.slice(0,j),i=i.slice(j),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var T=this.hostname.split(/\./),A=0,P=T.length;A<P;A++){var C=T[A];if(C&&!C.match(/^[+a-z0-9A-Z_-]{0,63}$/)){for(var S="",D=0,O=C.length;D<O;D++)C.charCodeAt(D)>127?S+="x":S+=C[D];if(!S.match(/^[+a-z0-9A-Z_-]{0,63}$/)){var M=T.slice(0,A),I=T.slice(A+1),R=C.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);R&&(M.push(R[1]),I.unshift(R[2])),I.length&&(i="/"+I.join(".")+i),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=o.toASCII(this.hostname));var L=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+L,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!y[d])for(var A=0,P=h.length;A<P;A++){var G=h[A];if(-1!==i.indexOf(G)){var z=encodeURIComponent(G);z===G&&(z=escape(G)),i=i.split(G).join(z)}}var B=i.indexOf("#");-1!==B&&(this.hash=i.substr(B),i=i.slice(0,B));var q=i.indexOf("?");if(-1!==q?(this.search=i.substr(q),this.query=i.substr(q+1),t&&(this.query=E.parse(this.query)),i=i.slice(0,q)):t&&(this.search="",this.query={}),i&&(this.pathname=i),_[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",U=this.search||"";this.path=L+U}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",a=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(s=E.stringify(this.query));var i=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==r?(r="//"+(r||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),a=a.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+r+a+i+n},n.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(c.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var a=new n,r=Object.keys(this),s=0;s<r.length;s++){var i=r[s];a[i]=this[i]}if(a.hash=e.hash,""===e.href)return a.href=a.format(),a;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),o=0;o<l.length;o++){var u=l[o];"protocol"!==u&&(a[u]=e[u])}return _[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(e.protocol&&e.protocol!==a.protocol){if(!_[e.protocol]){for(var m=Object.keys(e),p=0;p<m.length;p++){var d=m[p];a[d]=e[d]}return a.href=a.format(),a}if(a.protocol=e.protocol,e.host||v[e.protocol])a.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),a.pathname=f.join("/")}if(a.search=e.search,a.query=e.query,a.host=e.host||"",a.auth=e.auth,a.hostname=e.hostname||e.host,a.port=e.port,a.pathname||a.search){var h=a.pathname||"",g=a.search||"";a.path=h+g}return a.slashes=a.slashes||e.slashes,a.href=a.format(),a}var b=a.pathname&&"/"===a.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=y||b||a.host&&e.pathname,j=E,A=a.pathname&&a.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],N=a.protocol&&!_[a.protocol];if(N&&(a.hostname="",a.port=null,a.host&&(""===A[0]?A[0]=a.host:A.unshift(a.host)),a.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),E=E&&(""===f[0]||""===A[0])),y)a.host=e.host||""===e.host?e.host:a.host,a.hostname=e.hostname||""===e.hostname?e.hostname:a.hostname,a.search=e.search,a.query=e.query,A=f;else if(f.length)A||(A=[]),A.pop(),A=A.concat(f),a.search=e.search,a.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(N){a.hostname=a.host=A.shift();var w=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@");w&&(a.auth=w.shift(),a.host=a.hostname=w.shift())}return a.search=e.search,a.query=e.query,c.isNull(a.pathname)&&c.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!A.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var k=A.slice(-1)[0],x=(a.host||e.host||A.length>1)&&("."===k||".."===k)||""===k,T=0,P=A.length;P>=0;P--)k=A[P],"."===k?A.splice(P,1):".."===k?(A.splice(P,1),T++):T&&(A.splice(P,1),T--);if(!E&&!j)for(;T--;T)A.unshift("..");!E||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),x&&"/"!==A.join("/").substr(-1)&&A.push("");var C=""===A[0]||A[0]&&"/"===A[0].charAt(0);if(N){a.hostname=a.host=C?"":A.length?A.shift():"";var w=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@");w&&(a.auth=w.shift(),a.host=a.hostname=w.shift())}return E=E||a.host&&A.length,E&&!C&&A.unshift(""),A.length?a.pathname=A.join("/"):(a.pathname=null,a.path=null),c.isNull(a.pathname)&&c.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=e.auth||a.auth,a.slashes=a.slashes||e.slashes,a.href=a.format(),a},n.prototype.parseHost=function(){var e=this.host,t=m.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/url/util.js",punycode:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/punycode/punycode.js",querystring:"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/querystring-es3/index.js"}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/browserify/node_modules/url/util.js":[function(e,t,a){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],"/home/travis/build/map-egypt/map-egypt.github.io/node_modules/global/window.js":[function(e,t,a){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},["/home/travis/build/map-egypt/map-egypt.github.io/app/assets/scripts/main.js"]);